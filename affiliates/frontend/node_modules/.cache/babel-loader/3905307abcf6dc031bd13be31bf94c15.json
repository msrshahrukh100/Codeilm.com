{"ast":null,"code":"import _slicedToArray from \"/home/shahrukh/Code/projects/allywith/Codeilm.com/lovecode/lovecodefrontend/lovecode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/home/shahrukh/Code/projects/allywith/Codeilm.com/lovecode/lovecodefrontend/lovecode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/shahrukh/Code/projects/allywith/Codeilm.com/lovecode/lovecodefrontend/lovecode/src/containers/LearnEdit/LearnEditEditor.js\";\nimport React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport CommitToGithub from '../CommitToGithub/CommitToGithub';\nimport Fab from '@material-ui/core/Fab';\nimport TextField from '@material-ui/core/TextField';\nimport BranchChoose from '../BranchChoose/BranchChoose';\nimport { withRouter } from \"react-router\";\nimport Chip from '@material-ui/core/Chip';\nimport SimpleMDE from \"react-simplemde-editor\";\nimport \"./easymde.min.css\";\nimport { connect } from 'react-redux';\nimport TagsInput from '../../components/UI/TagsInput/TagsInput';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport AddIcon from '@material-ui/icons/Add';\n\nvar styles = function styles(theme) {\n  return {\n    textField: {\n      width: '100%',\n      margin: theme.spacing()\n    },\n    button: {\n      margin: theme.spacing(1),\n      backgroundColor: 'red'\n    },\n    rightIcon: {\n      marginLeft: theme.spacing(1)\n    },\n    repoField: {\n      minWidth: 120,\n      margin: theme.spacing()\n    },\n    titleField: {\n      minWidth: theme.spacing(40),\n      margin: theme.spacing()\n    },\n    container: {\n      position: 'absolute',\n      top: '90px',\n      width: '95%'\n    },\n    chip: {\n      margin: theme.spacing()\n    },\n    publishButton: _defineProperty({\n      margin: theme.spacing()\n    }, theme.breakpoints.up('sm'), {\n      marginTop: theme.spacing(1.5)\n    }),\n    commitPanel: {\n      marginTop: theme.spacing(2)\n    }\n  };\n};\n\nvar learnEditEditor = function learnEditEditor(props) {\n  var classes = props.classes;\n  var repoName = props.match.params.repoName;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var toolbar = [\"bold\", \"italic\", \"heading\", \"|\", {\n    name: \"Add YouTube video\",\n    action: function customFunction(editor) {\n      var pos = editor.codemirror.getCursor();\n      editor.codemirror.setSelection(pos, pos);\n      editor.codemirror.replaceSelection('\\n[YOUTUBE](YouTube video Id)\\n');\n    },\n    className: \"fa fa-youtube-play\",\n    title: \"Add YouTube video\"\n  }, {\n    name: \"Add Page\",\n    action: function customFunction(editor) {\n      var pos = editor.codemirror.getCursor();\n      editor.codemirror.setSelection(pos, pos);\n      editor.codemirror.replaceSelection('\\n[Page \"Title of the Page\"]\\n\\nYour awesome content\\n\\n[End]\\n');\n    },\n    className: \"fa fa-file-text\",\n    title: \"Add Page\"\n  }, \"|\", {\n    name: \"Preview\",\n    action: function customFunction(editor) {\n      props.togglePreview();\n    },\n    className: \"fa fa-eye\",\n    title: \"Preview\"\n  }];\n\n  if (props.repoName != \"\") {\n    toolbar = toolbar.concat([\"|\", {\n      name: \"See it on GitHub\",\n      action: function customFunction(editor) {\n        var url = \"https://github.com/\".concat(props.githubUsername, \"/\").concat(props.repoName);\n        window.open(url, '_blank');\n      },\n      className: \"fa fa-github\",\n      title: \"See it on GitHub\"\n    }]);\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: classes.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(React.Fragment, null, React.createElement(Fab, {\n    color: \"primary\",\n    \"aria-label\": \"Add\",\n    className: classes.fab,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, React.createElement(AddIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  })), React.createElement(TextField, {\n    id: \"outlined-read-only-input\",\n    label: \"Title\",\n    value: props.dbData ? props.dbData.title : \"\",\n    className: classes.titleField,\n    margin: \"normal\",\n    InputProps: {\n      readOnly: true\n    },\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }), props.dbData ? React.createElement(Fab, {\n    variant: \"extended\",\n    disabled: props.loading,\n    onClick: props.publishUnpublishTut,\n    size: \"medium\",\n    color: \"secondary\",\n    \"aria-label\": \"publish\",\n    className: classes.publishButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, props.isPublished ? \"Unpublish\" : \"Publish\") : null, React.createElement(SimpleMDE, {\n    onChange: props.learnContentUpdate,\n    value: props.editorContent,\n    className: classes.textField,\n    options: {\n      autofocus: true,\n      hideIcons: [\"guide\"],\n      toolbar: toolbar,\n      spellChecker: false\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }), React.createElement(TagsInput, {\n    setTags: props.setTags,\n    tags: props.tags,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }), props.showCommitPanel && props.repoName ? React.createElement(\"div\", {\n    className: classes.commitPanel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    id: \"outlined-read-only-input\",\n    label: \"Repository\",\n    value: props.repoName,\n    className: classes.repoField,\n    margin: \"normal\",\n    InputProps: {\n      readOnly: true\n    },\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }), React.createElement(BranchChoose, {\n    onBranchChange: props.handleBranchChange,\n    repoName: repoName,\n    defaultBranch: props.branchName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"outlined-name\",\n    label: \"Commit message\",\n    value: props.commitMessage,\n    onChange: props.commitMessageUpdate,\n    className: classes.textField,\n    margin: \"normal\",\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }), React.createElement(CommitToGithub, {\n    commitMessage: props.commitMessage,\n    content: props.editorContent,\n    branch: props.branchName,\n    repoName: props.repoName,\n    sha: props.sha,\n    callback: props.fetchLearnContent,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  })) : null, props.repoName ? React.createElement(Chip, {\n    label: props.showCommitPanel ? \"Hide commit panel\" : \"Want to commit it to GitHub ?\",\n    onClick: props.toggleCommitPanel,\n    className: classes.chip,\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }) : null, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }), React.createElement(Button, {\n    onClick: function onClick() {\n      return setOpen(true);\n    },\n    variant: \"contained\",\n    color: \"secondary\",\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, \"Delete this story\", React.createElement(DeleteIcon, {\n    className: classes.rightIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  })), React.createElement(Dialog, {\n    open: open,\n    onClose: function onClose() {\n      return setOpen(false);\n    },\n    \"aria-labelledby\": \"alert-dialog-title\",\n    \"aria-describedby\": \"alert-dialog-description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, React.createElement(DialogTitle, {\n    id: \"alert-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }, \"Delete the story \", React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }, \"\\\"\", props.dbData ? props.dbData.title : \" this\", \"\\\"\"), \" ? \"), React.createElement(DialogContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, React.createElement(DialogContentText, {\n    id: \"alert-dialog-description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, \"\\\"\", props.dbData ? props.dbData.title : null, \"\\\"\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }), \"This story will be permanently deleted. We are waiting for another awesome story from you.\")), React.createElement(DialogActions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: props.handleDeleteStory,\n    variant: \"contained\",\n    color: \"secondary\",\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, \"Delete this story\", React.createElement(DeleteIcon, {\n    className: classes.rightIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  })), React.createElement(Button, {\n    onClick: function onClick() {\n      return setOpen(false);\n    },\n    color: \"primary\",\n    autoFocus: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  }, \"Close\"))))));\n};\n\nvar matchStateToProps = function matchStateToProps(state) {\n  return {\n    githubUsername: state.aReducer.user ? state.aReducer.user.github_username : null\n  };\n};\n\nexport default withStyles(styles)(withRouter(connect(matchStateToProps, null)(learnEditEditor)));","map":{"version":3,"sources":["/home/shahrukh/Code/projects/allywith/Codeilm.com/lovecode/lovecodefrontend/lovecode/src/containers/LearnEdit/LearnEditEditor.js"],"names":["React","withStyles","CommitToGithub","Fab","TextField","BranchChoose","withRouter","Chip","SimpleMDE","connect","TagsInput","Button","DeleteIcon","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","AddIcon","styles","theme","textField","width","margin","spacing","button","backgroundColor","rightIcon","marginLeft","repoField","minWidth","titleField","container","position","top","chip","publishButton","breakpoints","up","marginTop","commitPanel","learnEditEditor","props","classes","repoName","match","params","useState","open","setOpen","toolbar","name","action","customFunction","editor","pos","codemirror","getCursor","setSelection","replaceSelection","className","title","togglePreview","concat","url","githubUsername","window","fab","dbData","readOnly","loading","publishUnpublishTut","isPublished","learnContentUpdate","editorContent","autofocus","hideIcons","spellChecker","setTags","tags","showCommitPanel","handleBranchChange","branchName","commitMessage","commitMessageUpdate","sha","fetchLearnContent","toggleCommitPanel","handleDeleteStory","matchStateToProps","state","aReducer","user","github_username"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { withStyles } from '@material-ui/core/styles';\nimport CommitToGithub from '../CommitToGithub/CommitToGithub'\nimport Fab from '@material-ui/core/Fab';\nimport TextField from '@material-ui/core/TextField';\nimport BranchChoose from '../BranchChoose/BranchChoose'\nimport { withRouter } from \"react-router\";\nimport Chip from '@material-ui/core/Chip';\nimport SimpleMDE from \"react-simplemde-editor\";\nimport \"./easymde.min.css\";\nimport { connect } from 'react-redux'\nimport TagsInput from '../../components/UI/TagsInput/TagsInput'\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport AddIcon from '@material-ui/icons/Add';\n\n\nconst styles = theme => ({\n  textField: {\n    width: '100%',\n    margin: theme.spacing()\n  },\n  button: {\n    margin: theme.spacing(1),\n    backgroundColor: 'red'\n  },\n  rightIcon: {\n    marginLeft: theme.spacing(1),\n  },\n  repoField: {\n    minWidth: 120,\n    margin: theme.spacing()\n  },\n  titleField: {\n    minWidth: theme.spacing(40),\n    margin: theme.spacing()\n  },\n  container: {\n    position: 'absolute',\n    top: '90px',\n    width: '95%'\n  },\n  chip: {\n   margin: theme.spacing(),\n },\n publishButton: {\n  margin: theme.spacing(),\n  [theme.breakpoints.up('sm')]: {\n    marginTop: theme.spacing(1.5)\n  },\n},\n commitPanel: {\n   marginTop: theme.spacing(2)\n }\n});\n\nconst learnEditEditor = (props) => {\n  const { classes } = props;\n  const { repoName } = props.match.params;\n  const [open, setOpen] = React.useState(false);\n\n  let toolbar = [\"bold\", \"italic\", \"heading\", \"|\",\n  {\n    name: \"Add YouTube video\",\n    action: function customFunction(editor){\n      const pos = editor.codemirror.getCursor();\n      editor.codemirror.setSelection(pos, pos);\n      editor.codemirror.replaceSelection('\\n[YOUTUBE](YouTube video Id)\\n');\n    },\n    className: \"fa fa-youtube-play\",\n    title: \"Add YouTube video\",\n  },\n  {\n    name: \"Add Page\",\n    action: function customFunction(editor){\n      const pos = editor.codemirror.getCursor();\n      editor.codemirror.setSelection(pos, pos);\n      editor.codemirror.replaceSelection('\\n[Page \"Title of the Page\"]\\n\\nYour awesome content\\n\\n[End]\\n');\n    },\n    className: \"fa fa-file-text\",\n    title: \"Add Page\",\n  },\n  \"|\",\n  {\n    name: \"Preview\",\n    action: function customFunction(editor){\n      props.togglePreview()\n    },\n    className: \"fa fa-eye\",\n    title: \"Preview\",\n  }\n]\n  if (props.repoName != \"\") {\n    toolbar = toolbar.concat([\n      \"|\",\n      {\n        name: \"See it on GitHub\",\n        action: function customFunction(editor){\n          const url = `https://github.com/${props.githubUsername}/${props.repoName}`\n          window.open(url, '_blank')\n        },\n        className: \"fa fa-github\",\n        title: \"See it on GitHub\",\n      }\n    ])\n  }\n\n  return (\n    <>\n\n    <div className={classes.container}>\n    <>\n    <Fab color=\"primary\" aria-label=\"Add\" className={classes.fab}>\n        <AddIcon />\n      </Fab>\n\n    <TextField\n    id=\"outlined-read-only-input\"\n    label=\"Title\"\n    value={props.dbData ? props.dbData.title : \"\"}\n    className={classes.titleField}\n    margin=\"normal\"\n    InputProps={{\n      readOnly: true,\n    }}\n    variant=\"outlined\"\n    />\n\n    {props.dbData ?\n      <Fab\n      variant=\"extended\"\n      disabled={props.loading}\n      onClick={props.publishUnpublishTut}\n      size=\"medium\"\n      color=\"secondary\"\n      aria-label=\"publish\"\n      className={classes.publishButton}\n      >\n      {props.isPublished ? \"Unpublish\" : \"Publish\"}\n      </Fab>\n\n      : null}\n\n    <SimpleMDE\n    onChange={props.learnContentUpdate}\n    value={props.editorContent}\n    className={classes.textField}\n    options={{\n      autofocus: true,\n      hideIcons: [\"guide\"],\n      toolbar: toolbar,\n      spellChecker: false\n  }}\n  />\n  <TagsInput setTags={props.setTags} tags={props.tags} />\n\n\n    {props.showCommitPanel && props.repoName ?\n      <div className={classes.commitPanel}>\n      <TextField\n      id=\"outlined-read-only-input\"\n      label=\"Repository\"\n      value={props.repoName}\n      className={classes.repoField}\n      margin=\"normal\"\n      InputProps={{\n        readOnly: true,\n      }}\n      variant=\"outlined\"\n      />\n      <BranchChoose onBranchChange={props.handleBranchChange} repoName={repoName} defaultBranch={props.branchName} />\n      <TextField\n      id=\"outlined-name\"\n      label=\"Commit message\"\n      value={props.commitMessage}\n      onChange={props.commitMessageUpdate}\n      className={classes.textField}\n      margin=\"normal\"\n      variant=\"outlined\"\n      />\n\n      <CommitToGithub\n      commitMessage={props.commitMessage}\n      content={props.editorContent}\n      branch={props.branchName}\n      repoName={props.repoName}\n      sha={props.sha}\n      callback={props.fetchLearnContent}\n      />\n      </div>\n      : null}\n      {props.repoName ?\n        <Chip\n        label={props.showCommitPanel ? \"Hide commit panel\" : \"Want to commit it to GitHub ?\"}\n        onClick={props.toggleCommitPanel}\n        className={classes.chip}\n        variant=\"outlined\"\n        />\n\n        : null}\n        <br/>\n        <Button onClick={() => setOpen(true)} variant=\"contained\" color=\"secondary\" className={classes.button}>\n          Delete this story\n          <DeleteIcon className={classes.rightIcon} />\n        </Button>\n\n        <Dialog\n        open={open}\n        onClose={() => setOpen(false)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">Delete the story <b>\"{props.dbData ? props.dbData.title : \" this\"}\"</b> ? </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n          \"{props.dbData ? props.dbData.title : null}\"<br/>\n            This story will be permanently deleted. We are waiting for another awesome story from you.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={props.handleDeleteStory} variant=\"contained\" color=\"secondary\" className={classes.button}>\n            Delete this story\n            <DeleteIcon className={classes.rightIcon} />\n          </Button>\n          <Button onClick={() => setOpen(false)} color=\"primary\" autoFocus>\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n      </>\n      </div>\n    </>\n  )\n}\n\nconst matchStateToProps = state => {\n  return {\n    githubUsername: state.aReducer.user ? state.aReducer.user.github_username : null\n  }\n}\n\nexport default withStyles(styles)(withRouter(connect(matchStateToProps, null)(learnEditEditor)))\n"]},"metadata":{},"sourceType":"module"}