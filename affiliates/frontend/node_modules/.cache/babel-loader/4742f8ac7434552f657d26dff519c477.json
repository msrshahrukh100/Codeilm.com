{"ast":null,"code":"import n from \"copy-to-clipboard\";\nimport t from \"react-click-outside\";\nimport e from \"react-fast-compare\";\nimport r from \"react\";\n\nvar o = function () {\n  function n() {}\n\n  return n.prototype.then = function (t, e) {\n    var r = new n(),\n        o = this.s;\n\n    if (o) {\n      var _n = 1 & o ? t : e;\n\n      if (_n) {\n        try {\n          u(r, 1, _n(this.v));\n        } catch (n) {\n          u(r, 2, n);\n        }\n\n        return r;\n      }\n\n      return this;\n    }\n\n    return this.o = function (n) {\n      try {\n        var _o = n.v;\n        1 & n.s ? u(r, 1, t ? t(_o) : _o) : e ? u(r, 1, e(_o)) : u(r, 2, _o);\n      } catch (n) {\n        u(r, 2, n);\n      }\n    }, r;\n  }, n;\n}();\n\nfunction u(n, t, e) {\n  if (!n.s) {\n    if (e instanceof o) {\n      if (!e.s) return void (e.o = u.bind(null, n, t));\n      1 & t && (t = e.s), e = e.v;\n    }\n\n    if (e && e.then) return void e.then(u.bind(null, n, t), u.bind(null, n, 2));\n    n.s = t, n.v = e;\n    var _r = n.o;\n    _r && _r(n);\n  }\n}\n\nvar i = {};\n!function () {\n  function n(n) {\n    this._entry = n, this._pact = null, this._resolve = null, this._return = null, this._promise = null;\n  }\n\n  function t(n) {\n    return {\n      value: n,\n      done: !0\n    };\n  }\n\n  function e(n) {\n    return {\n      value: n,\n      done: !1\n    };\n  }\n\n  n.prototype[Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))] = function () {\n    return this;\n  }, n.prototype._yield = function (n) {\n    return this._resolve(n && n.then ? n.then(e) : e(n)), this._pact = new o();\n  }, n.prototype.next = function (n) {\n    var e = this;\n    return e._promise = new Promise(function (r) {\n      var c = e._pact;\n\n      if (null === c) {\n        var _l = function _l(n) {\n          e._resolve(n && n.then ? n.then(t) : t(n)), e._pact = null, e._resolve = null;\n        };\n\n        var _n2 = e._entry;\n        if (null === _n2) return r(e._promise);\n        e._entry = null, e._resolve = r, _n2(e).then(_l, function (n) {\n          if (n === i) _l(e._return);else {\n            var _t = new o();\n\n            e._resolve(_t), e._pact = null, e._resolve = null, _resolve(_t, 2, n);\n          }\n        });\n      } else e._pact = null, e._resolve = r, u(c, 1, n);\n    });\n  }, n.prototype.return = function (n) {\n    var e = this;\n    return e._promise = new Promise(function (r) {\n      var o = e._pact;\n      if (null === o) return null === e._entry ? r(e._promise) : (e._entry = null, r(n && n.then ? n.then(t) : t(n)));\n      e._return = n, e._resolve = r, e._pact = null, u(o, 2, i);\n    });\n  }, n.prototype.throw = function (n) {\n    var t = this;\n    return t._promise = new Promise(function (e, r) {\n      var o = t._pact;\n      if (null === o) return null === t._entry ? e(t._promise) : (t._entry = null, r(n));\n      t._resolve = e, t._pact = null, u(o, 2, n);\n    });\n  };\n}();\n\nfunction c(n) {\n  var t = r.useState(null),\n      e = t[0],\n      o = t[1],\n      u = r.useState(null),\n      i = u[0],\n      c = u[1],\n      l = r.useState(null),\n      a = l[0],\n      s = l[1];\n  return [r.useCallback(function () {\n    for (var t = [], e = arguments.length; e--;) {\n      t[e] = arguments[e];\n    }\n\n    try {\n      return o(!0), c(null), Promise.resolve(function (n, t) {\n        try {\n          var e = n();\n        } catch (n) {\n          return t(!0, n);\n        }\n\n        return e && e.then ? e.then(t.bind(null, !1), t.bind(null, !0)) : t(!1, value);\n      }(function () {\n        return function (n, t) {\n          try {\n            var e = n();\n          } catch (n) {\n            return t(n);\n          }\n\n          return e && e.then ? e.then(void 0, t) : e;\n        }(function () {\n          return Promise.resolve(n.apply(void 0, t)).then(function (n) {\n            return s(n), n;\n          });\n        }, function (n) {\n          c(n);\n        });\n      }, function (n, t) {\n        if (o(!1), n) throw t;\n        return t;\n      }));\n    } catch (n) {\n      return Promise.reject(n);\n    }\n  }, [n]), {\n    data: a,\n    loading: e,\n    error: i\n  }];\n}\n\nvar l = r.memo(function (n) {\n  var t = c(n.onClick),\n      e = t[1];\n  return n.children({\n    data: e.data,\n    loading: e.loading,\n    error: e.error,\n    onClick: t[0]\n  });\n}),\n    a = function a(n) {\n  return new Promise(function (t) {\n    return setTimeout(t, n);\n  });\n};\n\nfunction s(t, e) {\n  void 0 === e && (e = {});\n  var r = e.interval,\n      o = c(function () {\n    try {\n      n(t);\n\n      var e = function () {\n        if (0 !== r) return Promise.resolve(a(null == r ? 1e3 : r)).then(function () {});\n      }();\n\n      return Promise.resolve(e && e.then ? e.then(function () {}) : void 0);\n    } catch (n) {\n      return Promise.reject(n);\n    }\n  });\n  return {\n    onClick: o[0],\n    copied: o[1].loading\n  };\n}\n\nvar f = r.memo(function (n) {\n  return n.children(s(n.text, {\n    interval: n.interval\n  }));\n}),\n    v = function v(n, t) {\n  return r.useEffect(function () {\n    return document.addEventListener(n, t, !1), function () {\n      return document.removeEventListener(n, t, !1);\n    };\n  });\n},\n    p = function p(n, t) {\n  var e = r.useCallback(function (e) {\n    if (e.key === n) return t(e);\n  }, [n, t]);\n  v(\"keydown\", e);\n},\n    h = t(function (n) {\n  function t() {\n    n.apply(this, arguments);\n  }\n\n  return n && (t.__proto__ = n), (t.prototype = Object.create(n && n.prototype)).constructor = t, t.prototype.handleClickOutside = function (n) {\n    this.props.onClickAway(n);\n  }, t.prototype.render = function () {\n    return this.props.children;\n  }, t;\n}(r.PureComponent)),\n    m = r.memo(function (n) {\n  return p(\"Escape\", n.onClickAway), r.createElement(h, {\n    onClickAway: n.onClickAway\n  }, n.open ? n.children : null);\n});\n\nfunction d(n, t) {\n  void 0 === t && (t = {});\n  var o = t.onSubmit,\n      u = t.onReset,\n      i = r.useState(n),\n      l = i[0],\n      a = i[1],\n      s = r.useState(n),\n      f = s[0],\n      v = s[1],\n      p = !r.useMemo(function () {\n    return e(f, l);\n  }, [f, l]),\n      h = r.useCallback(function (n) {\n    return a(n.target.value);\n  }, [a]),\n      m = c(function () {\n    try {\n      var _n3 = function _n3() {\n        v(l);\n      };\n\n      var t = function () {\n        if (o) return Promise.resolve(o(l)).then(function () {});\n      }();\n\n      return Promise.resolve(t && t.then ? t.then(_n3) : _n3());\n    } catch (n) {\n      return Promise.reject(n);\n    }\n  }),\n      d = m[1];\n  return {\n    value: l,\n    hasChanged: p,\n    data: d.data,\n    loading: d.loading,\n    error: d.error,\n    onChange: a,\n    onInputChange: h,\n    reset: function reset() {\n      u && u(l), a(f);\n    },\n    submit: m[0]\n  };\n}\n\nm.displayName = \"Modal\";\nvar y = r.memo(function (n) {\n  var t = d(n.initialValue, n);\n  return n.children(t);\n});\n\nfunction _() {}\n\ny.defaultProps = {\n  onReset: _,\n  onSubmit: _\n};\n\nvar w = function w(n) {\n  return \"string\" == typeof n ? n : JSON.stringify(n);\n},\n    g = function g(n) {\n  try {\n    return JSON.parse(n);\n  } catch (t) {\n    return n;\n  }\n};\n\nfunction S(n) {\n  var t = r.useState(null),\n      e = t[0],\n      o = t[1];\n  return r.useEffect(function () {\n    if (localStorage.hasOwnProperty(n)) {\n      var t = localStorage.getItem(n);\n      o(g(t));\n    }\n  }, [n]), r.useEffect(function () {\n    function n(n) {\n      n.isTrusted && o(n.newValue);\n    }\n\n    return window.addEventListener(\"storage\", n), function () {\n      return window.removeEventListener(\"storage\", n);\n    };\n  }, []), r.useEffect(function () {\n    null == e ? localStorage.removeItem(n) : localStorage.setItem(n, w(e));\n  }, [n, e]), [e, o];\n}\n\nfunction b(n, t) {\n  var e = r.useRef(t);\n  r.useEffect(function () {\n    var t = e.current;\n    return window.addEventListener(n, t), function () {\n      return window.removeEventListener(n, t);\n    };\n  }, [n]);\n}\n\nfunction P() {\n  var n = r.useState(!0),\n      t = n[0],\n      e = n[1];\n  return r.useEffect(function () {\n    e(\"undefined\" == typeof navigator || \"boolean\" != typeof navigator.onLine || navigator.onLine);\n  }, []), b(\"offline\", function () {\n    return e(!1);\n  }), b(\"online\", function () {\n    return e(!0);\n  }), t;\n}\n\nexport { c as useAsyncCallback, l as AsyncButton, s as useCopyTextHandler, f as CopyButton, v as useEventListener, p as useKeyboardListener, m as Modal, d as useTempValue, y as TempValue, S as useLocalStorage, P as useOnline };","map":null,"metadata":{},"sourceType":"module"}