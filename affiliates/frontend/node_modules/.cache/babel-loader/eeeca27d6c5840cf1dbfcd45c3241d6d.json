{"ast":null,"code":"import _classCallCheck from \"/home/shahrukh/Code/projects/allywith/Codeilm.com/affiliates/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shahrukh/Code/projects/allywith/Codeilm.com/affiliates/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/shahrukh/Code/projects/allywith/Codeilm.com/affiliates/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/shahrukh/Code/projects/allywith/Codeilm.com/affiliates/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/shahrukh/Code/projects/allywith/Codeilm.com/affiliates/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/shahrukh/Code/projects/allywith/Codeilm.com/affiliates/frontend/src/containers/RepoList/RepoList.js\";\nimport React from 'react';\nimport axios from '../../lovecodeaxios';\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\nimport MediaCard from '../../components/UI/MediaCard/MediaCard';\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport PageLayout from '../../components/UI/PageLayout/PageLayout';\nimport ListPageSkeleton from '../../components/UI/SkeletonLoaders/ListPageSkeleton';\nimport { withRouter } from \"react-router\";\nimport { connect } from 'react-redux';\nimport * as actionCreators from '../../store/actions/index';\nimport { GoRepoForked } from \"react-icons/go\";\nimport { GoStar } from \"react-icons/go\";\nimport Chip from '@material-ui/core/Chip';\nimport Avatar from '@material-ui/core/Avatar';\n\nvar RepoList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RepoList, _React$Component);\n\n  function RepoList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, RepoList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(RepoList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      userrepositories: [],\n      links: {},\n      pageNumber: 0,\n      loading: true,\n      hasMoreRepo: false,\n      error: null\n    };\n\n    _this.fetchRepositories = function () {\n      axios.defaults.headers.common['Authorization'] = \"JWT \".concat(localStorage.getItem('token'));\n      axios.get('/userrepositories/' + _this.state.pageNumber).then(function (response) {\n        if (response) {\n          _this.setState(function (state) {\n            return {\n              userrepositories: state.userrepositories.concat(response.data.data),\n              links: response.data.links,\n              loading: false,\n              hasMoreRepo: response.data.links.next ? true : false,\n              pageNumber: response.data.links.next ? response.data.links.next : -1\n            };\n          });\n        }\n      }).catch(function (error) {\n        _this.setState({\n          error: error,\n          loading: false\n        });\n      });\n    };\n\n    _this.handleClick = function (repo) {\n      _this.props.setRepoData(repo);\n\n      _this.props.history.push({\n        pathname: \"/create/\".concat(repo.name),\n        search: \"?branch_name=\".concat(repo.default_branch)\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(RepoList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchRepositories();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(InfiniteScroll, {\n        dataLength: this.state.userrepositories.length,\n        next: this.fetchRepositories,\n        hasMore: this.state.hasMoreRepo,\n        loader: React.createElement(PageLayout, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, React.createElement(ListPageSkeleton, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, this.state.userrepositories.map(function (repo) {\n        var content = React.createElement(\"div\", {\n          style: {\n            paddingLeft: '13px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, repo.description), repo.stargazers_count ? React.createElement(Chip, {\n          style: {\n            marginRight: '10px'\n          },\n          size: \"small\",\n          avatar: React.createElement(Avatar, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83\n            },\n            __self: this\n          }, React.createElement(GoStar, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84\n            },\n            __self: this\n          })),\n          label: repo.stargazers_count > 1 ? repo.stargazers_count + \" stars\" : repo.stargazers_count + \" star\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }) : null, repo.forks_count ? React.createElement(Chip, {\n          size: \"small\",\n          avatar: React.createElement(Avatar, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 95\n            },\n            __self: this\n          }, React.createElement(GoRepoForked, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 96\n            },\n            __self: this\n          })),\n          label: repo.forks_count > 1 ? repo.forks_count + \" forks\" : repo.forks_count + \" fork\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }) : null);\n        return React.createElement(MediaCard, {\n          key: repo.id,\n          onClick: function onClick() {\n            return _this2.handleClick(repo);\n          },\n          title: repo.name,\n          content: content,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        });\n      }));\n    }\n  }]);\n\n  return RepoList;\n}(React.Component);\n\nvar matchDispatchToProps = function matchDispatchToProps(dispatch) {\n  return {\n    setRepoData: function setRepoData(data) {\n      return dispatch(actionCreators.setRepoData(data));\n    }\n  };\n};\n\nexport default withErrorHandler(withRouter(connect(null, matchDispatchToProps)(RepoList)), axios, \"circular\");","map":{"version":3,"sources":["/home/shahrukh/Code/projects/allywith/Codeilm.com/affiliates/frontend/src/containers/RepoList/RepoList.js"],"names":["React","axios","withErrorHandler","MediaCard","InfiniteScroll","PageLayout","ListPageSkeleton","withRouter","connect","actionCreators","GoRepoForked","GoStar","Chip","Avatar","RepoList","state","userrepositories","links","pageNumber","loading","hasMoreRepo","error","fetchRepositories","defaults","headers","common","localStorage","getItem","get","then","response","setState","concat","data","next","catch","handleClick","repo","props","setRepoData","history","push","pathname","name","search","default_branch","length","map","content","paddingLeft","description","stargazers_count","marginRight","forks_count","id","Component","matchDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from '../../lovecodeaxios'\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler'\nimport MediaCard from '../../components/UI/MediaCard/MediaCard'\nimport InfiniteScroll from \"react-infinite-scroll-component\"\nimport PageLayout from '../../components/UI/PageLayout/PageLayout'\nimport ListPageSkeleton from '../../components/UI/SkeletonLoaders/ListPageSkeleton'\nimport { withRouter } from \"react-router\";\nimport { connect } from 'react-redux';\nimport * as actionCreators from '../../store/actions/index'\nimport { GoRepoForked } from \"react-icons/go\";\nimport { GoStar } from \"react-icons/go\";\nimport Chip from '@material-ui/core/Chip';\nimport Avatar from '@material-ui/core/Avatar';\n\n\n\n\nclass RepoList extends React.Component {\n\n  state = {\n    userrepositories: [],\n    links:{},\n    pageNumber: 0,\n    loading: true,\n    hasMoreRepo: false,\n    error: null\n  }\n\n  fetchRepositories = () => {\n    axios.defaults.headers.common['Authorization'] = `JWT ${localStorage.getItem('token')}`;\n    axios.get('/userrepositories/' + this.state.pageNumber)\n      .then(response => {\n        if(response) {\n\n          this.setState(state => ({\n            userrepositories: state.userrepositories.concat(response.data.data),\n            links: response.data.links,\n            loading: false,\n            hasMoreRepo: response.data.links.next ? true : false,\n            pageNumber: response.data.links.next ? response.data.links.next : -1\n          }))\n        }\n\n      })\n      .catch(error => {\n        this.setState({\n          error: error,\n          loading: false\n        })\n      })\n  }\n\n  componentDidMount() {\n    this.fetchRepositories()\n  }\n\n  handleClick = repo => {\n    this.props.setRepoData(repo)\n    this.props.history.push({\n      pathname: `/create/${repo.name}`,\n      search: `?branch_name=${repo.default_branch}`\n    })\n  }\n\n  render() {\n    return (\n      <InfiniteScroll\n          dataLength={this.state.userrepositories.length}\n          next={this.fetchRepositories}\n          hasMore={this.state.hasMoreRepo}\n          loader={<PageLayout><ListPageSkeleton /></PageLayout>}\n      >\n      {this.state.userrepositories.map(repo => {\n        const content = (\n          <div style={{paddingLeft: '13px'}}>\n          <p>{repo.description}</p>\n          {repo.stargazers_count ?\n            <Chip\n            style={{marginRight: '10px'}}\n            size=\"small\"\n            avatar={\n              <Avatar>\n                <GoStar />\n              </Avatar>\n            }\n            label={repo.stargazers_count > 1 ? repo.stargazers_count + \" stars\" : repo.stargazers_count + \" star\"}\n            />\n\n          : null}\n          {repo.forks_count ?\n            <Chip\n            size=\"small\"\n            avatar={\n              <Avatar>\n                <GoRepoForked />\n              </Avatar>\n            }\n            label={repo.forks_count > 1 ? repo.forks_count + \" forks\" : repo.forks_count + \" fork\"}\n            />\n            : null}\n          </div>\n\n        )\n        return (\n          <MediaCard\n          key={repo.id}\n          onClick={() => this.handleClick(repo)}\n          title={repo.name}\n          content={content}\n          />\n        )\n      }\n\n    )}\n      </InfiniteScroll>\n    )\n  }\n}\n\nconst matchDispatchToProps = dispatch => {\n  return {\n    setRepoData: data => dispatch(actionCreators.setRepoData(data))\n  }\n}\n\nexport default withErrorHandler(withRouter(connect(null, matchDispatchToProps)(RepoList)), axios, \"circular\")\n"]},"metadata":{},"sourceType":"module"}