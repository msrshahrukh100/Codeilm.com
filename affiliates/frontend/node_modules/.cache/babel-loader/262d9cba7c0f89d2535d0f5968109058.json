{"ast":null,"code":"import _classCallCheck from \"/home/shahrukh/Code/projects/allywith/Codeilm.com/lovecode/lovecodefrontend/lovecode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shahrukh/Code/projects/allywith/Codeilm.com/lovecode/lovecodefrontend/lovecode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/shahrukh/Code/projects/allywith/Codeilm.com/lovecode/lovecodefrontend/lovecode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/shahrukh/Code/projects/allywith/Codeilm.com/lovecode/lovecodefrontend/lovecode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/shahrukh/Code/projects/allywith/Codeilm.com/lovecode/lovecodefrontend/lovecode/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/shahrukh/Code/projects/allywith/Codeilm.com/lovecode/lovecodefrontend/lovecode/src/containers/LogOut/LogOut.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport * as actionCreators from '../../store/actions/index';\nimport axios from 'axios';\nimport getCookie from '../../utils/getCookie';\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\nimport { withRouter } from 'react-router-dom';\n\nvar LogOut =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LogOut, _React$Component);\n\n  function LogOut() {\n    _classCallCheck(this, LogOut);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(LogOut).apply(this, arguments));\n  }\n\n  _createClass(LogOut, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this = this;\n\n      var csrftoken = getCookie('csrftoken');\n      axios.defaults.headers.common['X-CSRFToken'] = csrftoken;\n      axios.post('https://codeilm.com/accounts/logout/', {}).then(function (response) {\n        _this.props.logout();\n\n        _this.props.history.push(\"/stories\");\n      }).catch(function (error) {\n        console.log(error);\n\n        _this.setState({\n          error: error\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, \"Logging you out\");\n    }\n  }]);\n\n  return LogOut;\n}(React.Component);\n\nvar matchStateToProps = function matchStateToProps(state) {\n  return {\n    authenticated: state.aReducer.authenticated\n  };\n};\n\nvar matchDispatchToProps = function matchDispatchToProps(dispatch) {\n  return {\n    logout: function logout() {\n      return dispatch(actionCreators.authLogout());\n    }\n  };\n};\n\nexport default connect(matchStateToProps, matchDispatchToProps)(withRouter(withErrorHandler(LogOut, axios, 'circular')));","map":{"version":3,"sources":["/home/shahrukh/Code/projects/allywith/Codeilm.com/lovecode/lovecodefrontend/lovecode/src/containers/LogOut/LogOut.js"],"names":["React","connect","actionCreators","axios","getCookie","withErrorHandler","withRouter","LogOut","csrftoken","defaults","headers","common","post","then","response","props","logout","history","push","catch","error","console","log","setState","Component","matchStateToProps","state","authenticated","aReducer","matchDispatchToProps","dispatch","authLogout"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,KAAKC,cAAZ,MAAgC,2BAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,gBAAP,MAA6B,6CAA7B;AACA,SAASC,UAAT,QAA2B,kBAA3B;;IAEMC,M;;;;;;;;;;;;;wCAEgB;AAAA;;AAClB,UAAMC,SAAS,GAAGJ,SAAS,CAAC,WAAD,CAA3B;AACAD,MAAAA,KAAK,CAACM,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,aAA9B,IAA+CH,SAA/C;AACAL,MAAAA,KAAK,CAACS,IAAN,CAAW,sCAAX,EAAmD,EAAnD,EACCC,IADD,CACM,UAAAC,QAAQ,EAAI;AAChB,QAAA,KAAI,CAACC,KAAL,CAAWC,MAAX;;AACA,QAAA,KAAI,CAACD,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACD,OAJD,EAKCC,KALD,CAKO,UAAAC,KAAK,EAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;;AACA,QAAA,KAAI,CAACG,QAAL,CAAc;AACZH,UAAAA,KAAK,EAAEA;AADK,SAAd;AAGD,OAVD;AAYD;;;6BAEQ;AACP,aAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAR;AACD;;;;EArBkBpB,KAAK,CAACwB,S;;AAwB3B,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,KAAK,EAAI;AACjC,SAAO;AACLC,IAAAA,aAAa,EAAED,KAAK,CAACE,QAAN,CAAeD;AADzB,GAAP;AAGD,CAJD;;AAMA,IAAME,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAAC,QAAQ,EAAI;AACvC,SAAO;AACLd,IAAAA,MAAM,EAAE;AAAA,aAAMc,QAAQ,CAAC5B,cAAc,CAAC6B,UAAf,EAAD,CAAd;AAAA;AADH,GAAP;AAGD,CAJD;;AAMA,eAAe9B,OAAO,CAACwB,iBAAD,EAAoBI,oBAApB,CAAP,CAAiDvB,UAAU,CAACD,gBAAgB,CAACE,MAAD,EAASJ,KAAT,EAAgB,UAAhB,CAAjB,CAA3D,CAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport * as actionCreators from '../../store/actions/index'\nimport axios from 'axios';\nimport getCookie from '../../utils/getCookie'\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler'\nimport { withRouter } from 'react-router-dom'\n\nclass LogOut extends React.Component {\n\n  componentDidMount() {\n    const csrftoken = getCookie('csrftoken');\n    axios.defaults.headers.common['X-CSRFToken'] = csrftoken;\n    axios.post('https://codeilm.com/accounts/logout/', {})\n    .then(response => {\n      this.props.logout();\n      this.props.history.push(\"/stories\")\n    })\n    .catch(error => {\n      console.log(error);\n      this.setState({\n        error: error\n      })\n    })\n\n  }\n\n  render() {\n    return (<h3>Logging you out</h3>)\n  }\n}\n\nconst matchStateToProps = state => {\n  return {\n    authenticated: state.aReducer.authenticated\n  }\n}\n\nconst matchDispatchToProps = dispatch => {\n  return {\n    logout: () => dispatch(actionCreators.authLogout())\n  }\n}\n\nexport default connect(matchStateToProps, matchDispatchToProps)(withRouter(withErrorHandler(LogOut, axios, 'circular')));\n"]},"metadata":{},"sourceType":"module"}