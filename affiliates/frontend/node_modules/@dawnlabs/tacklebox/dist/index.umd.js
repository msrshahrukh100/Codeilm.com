!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("copy-to-clipboard"),require("react-click-outside"),require("react-fast-compare"),require("react")):"function"==typeof define&&define.amd?define(["exports","copy-to-clipboard","react-click-outside","react-fast-compare","react"],e):e(n.tacklebox={},n.copy,n.enhanceWithClickOutside,n.isEqual,n.react)}(this,function(n,e,t,r,o){e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,r=r&&r.hasOwnProperty("default")?r.default:r,o=o&&o.hasOwnProperty("default")?o.default:o;const u=function(){function n(){}return n.prototype.then=function(e,t){const r=new n,o=this.s;if(o){const n=1&o?e:t;if(n){try{i(r,1,n(this.v))}catch(n){i(r,2,n)}return r}return this}return this.o=function(n){try{const o=n.v;1&n.s?i(r,1,e?e(o):o):t?i(r,1,t(o)):i(r,2,o)}catch(n){i(r,2,n)}},r},n}();function i(n,e,t){if(!n.s){if(t instanceof u){if(!t.s)return void(t.o=i.bind(null,n,e));1&e&&(e=t.s),t=t.v}if(t&&t.then)return void t.then(i.bind(null,n,e),i.bind(null,n,2));n.s=e,n.v=t;const r=n.o;r&&r(n)}}const c={};!function(){function n(n){this._entry=n,this._pact=null,this._resolve=null,this._return=null,this._promise=null}function e(n){return{value:n,done:!0}}function t(n){return{value:n,done:!1}}n.prototype[Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))]=function(){return this},n.prototype._yield=function(n){return this._resolve(n&&n.then?n.then(t):t(n)),this._pact=new u},n.prototype.next=function(n){const t=this;return t._promise=new Promise(function(r){const o=t._pact;if(null===o){const n=t._entry;if(null===n)return r(t._promise);function l(n){t._resolve(n&&n.then?n.then(e):e(n)),t._pact=null,t._resolve=null}t._entry=null,t._resolve=r,n(t).then(l,function(n){if(n===c)l(t._return);else{const e=new u;t._resolve(e),t._pact=null,t._resolve=null,_resolve(e,2,n)}})}else t._pact=null,t._resolve=r,i(o,1,n)})},n.prototype.return=function(n){const t=this;return t._promise=new Promise(function(r){const o=t._pact;if(null===o)return null===t._entry?r(t._promise):(t._entry=null,r(n&&n.then?n.then(e):e(n)));t._return=n,t._resolve=r,t._pact=null,i(o,2,c)})},n.prototype.throw=function(n){const e=this;return e._promise=new Promise(function(t,r){const o=e._pact;if(null===o)return null===e._entry?t(e._promise):(e._entry=null,r(n));e._resolve=t,e._pact=null,i(o,2,n)})}}();function l(n){var e=o.useState(null),t=e[0],r=e[1],u=o.useState(null),i=u[0],c=u[1],l=o.useState(null),a=l[0],s=l[1];return[o.useCallback(function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return r(!0),c(null),Promise.resolve(function(n,e){try{var t=n()}catch(n){return e(!0,n)}return t&&t.then?t.then(e.bind(null,!1),e.bind(null,!0)):e(!1,value)}(function(){return function(n,e){try{var t=n()}catch(n){return e(n)}return t&&t.then?t.then(void 0,e):t}(function(){return Promise.resolve(n.apply(void 0,e)).then(function(n){return s(n),n})},function(n){c(n)})},function(n,e){if(r(!1),n)throw e;return e}))}catch(n){return Promise.reject(n)}},[n]),{data:a,loading:t,error:i}]}var a=o.memo(function(n){var e=l(n.onClick),t=e[1];return n.children({data:t.data,loading:t.loading,error:t.error,onClick:e[0]})}),s=function(n){return new Promise(function(e){return setTimeout(e,n)})};function f(n,t){void 0===t&&(t={});var r=t.interval,o=l(function(){try{e(n);var t=function(){if(0!==r)return Promise.resolve(s(null==r?1e3:r)).then(function(){})}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(n){return Promise.reject(n)}});return{onClick:o[0],copied:o[1].loading}}var p=o.memo(function(n){return n.children(f(n.text,{interval:n.interval}))}),d=function(n,e){return o.useEffect(function(){return document.addEventListener(n,e,!1),function(){return document.removeEventListener(n,e,!1)}})},v=function(n,e){var t=o.useCallback(function(t){if(t.key===n)return e(t)},[n,e]);d("keydown",t)},h=t(function(n){function e(){n.apply(this,arguments)}return n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e,e.prototype.handleClickOutside=function(n){this.props.onClickAway(n)},e.prototype.render=function(){return this.props.children},e}(o.PureComponent)),y=o.memo(function(n){return v("Escape",n.onClickAway),o.createElement(h,{onClickAway:n.onClickAway},n.open?n.children:null)});function m(n,e){void 0===e&&(e={});var t=e.onSubmit,u=e.onReset,i=o.useState(n),c=i[0],a=i[1],s=o.useState(n),f=s[0],p=s[1],d=!o.useMemo(function(){return r(f,c)},[f,c]),v=o.useCallback(function(n){return a(n.target.value)},[a]),h=l(function(){try{function n(){p(c)}var e=function(){if(t)return Promise.resolve(t(c)).then(function(){})}();return Promise.resolve(e&&e.then?e.then(n):n())}catch(n){return Promise.reject(n)}}),y=h[1];return{value:c,hasChanged:d,data:y.data,loading:y.loading,error:y.error,onChange:a,onInputChange:v,reset:function(){u&&u(c),a(f)},submit:h[0]}}y.displayName="Modal";var _=o.memo(function(n){var e=m(n.initialValue,n);return n.children(e)});function w(){}_.defaultProps={onReset:w,onSubmit:w};var g=function(n){return"string"==typeof n?n:JSON.stringify(n)},b=function(n){try{return JSON.parse(n)}catch(e){return n}};function P(n,e){var t=o.useRef(e);o.useEffect(function(){var e=t.current;return window.addEventListener(n,e),function(){return window.removeEventListener(n,e)}},[n])}n.useAsyncCallback=l,n.AsyncButton=a,n.useCopyTextHandler=f,n.CopyButton=p,n.useEventListener=d,n.useKeyboardListener=v,n.Modal=y,n.useTempValue=m,n.TempValue=_,n.useLocalStorage=function(n){var e=o.useState(null),t=e[0],r=e[1];return o.useEffect(function(){if(localStorage.hasOwnProperty(n)){var e=localStorage.getItem(n);r(b(e))}},[n]),o.useEffect(function(){function n(n){n.isTrusted&&r(n.newValue)}return window.addEventListener("storage",n),function(){return window.removeEventListener("storage",n)}},[]),o.useEffect(function(){null==t?localStorage.removeItem(n):localStorage.setItem(n,g(t))},[n,t]),[t,r]},n.useOnline=function(){var n=o.useState(!0),e=n[0],t=n[1];return o.useEffect(function(){t("undefined"==typeof navigator||"boolean"!=typeof navigator.onLine||navigator.onLine)},[]),P("offline",function(){return t(!1)}),P("online",function(){return t(!0)}),e}});
//# sourceMappingURL=index.umd.js.map
