{"version":3,"file":"tackle-box.umd.js","sources":["../src/AsyncButton.js","../src/CopyButton.js","../src/Modal.js","../src/TempValue.js","../src/LocalStorage.js"],"sourcesContent":["import { memo, useState } from 'react'\n\nexport function useAsyncCallback(cb) {\n  const [loading, setLoading] = useState(null)\n  const [error, setError] = useState(null)\n  const [data, setData] = useState(null)\n\n  return [\n    async function(...props) {\n      setLoading(true)\n      setError(null)\n      try {\n        const response = await cb(...props)\n        setData(response)\n        return response\n      } catch (e) {\n        setError(e)\n      } finally {\n        setLoading(false)\n      }\n    },\n    {\n      data,\n      loading,\n      error\n    }\n  ]\n}\n\nexport const AsyncButton = memo(function AsyncButton(props) {\n  const [onClick, { data, loading, error }] = useAsyncCallback(props.onClick)\n  return props.children({\n    data,\n    loading,\n    error,\n    onClick\n  })\n})\n","import React, { memo } from 'react'\nimport CopyToClipboard from 'react-copy-to-clipboard'\n\nimport { useAsyncCallback } from '.'\n\nconst wait = t => () => new Promise(res => setTimeout(res, t))\n\nexport const CopyButton = memo(function CopyButton(props) {\n  const [onCopy, { loading: copied }] = useAsyncCallback(\n    wait(props.interval == null ? 1000 : props.interval)\n  )\n\n  return (\n    <CopyToClipboard text={props.text} onCopy={onCopy}>\n      {props.children({ copied })}\n    </CopyToClipboard>\n  )\n})\n","import React, { memo, useEffect } from 'react'\nimport enhanceWithClickOutside from 'react-click-outside'\n\nexport const useEventListener = function(eventName, handler) {\n  return useEffect(() => {\n    document.addEventListener(eventName, handler, false)\n\n    return () => document.removeEventListener(eventName, handler, false)\n  })\n}\n\nexport const useKeyboardListener = function(key, handler) {\n  function handleKeyDown(event) {\n    if (event.key === key) {\n      return handler(event)\n    }\n  }\n\n  return useEventListener('keydown', handleKeyDown)\n}\n\nconst ESCAPE_KEY = 'Escape'\n\nconst ClickAway = enhanceWithClickOutside(\n  class WrappedComponent extends React.PureComponent {\n    handleClickOutside(e) {\n      this.props.onClickAway(e)\n    }\n    render() {\n      return this.props.children\n    }\n  }\n)\n\nexport const Modal = memo(props => {\n  useKeyboardListener(ESCAPE_KEY, props.onClickAway)\n  return <ClickAway onClickAway={props.onClickAway}>{props.open ? props.children : null}</ClickAway>\n})\n\nModal.displayName = 'Modal'\n","import { memo, useState, useMemo } from 'react'\nimport isEqual from 'react-fast-compare'\n\nimport { useAsyncCallback } from '.'\n\nexport function useTempValue(initialValue, { onSubmit, onReset } = {}) {\n  const [value, setState] = useState(initialValue)\n  const [baseValue, setBaseValue] = useState(initialValue)\n\n  const hasChanged = !useMemo(() => isEqual(baseValue, value), [baseValue, value])\n\n  const [handleSubmit, { data, loading, error }] = useAsyncCallback(async () => {\n    if (onSubmit) {\n      await onSubmit(value)\n    }\n    setBaseValue(value)\n  })\n\n  function handleReset() {\n    if (onReset) {\n      onReset(value)\n    }\n    setState(baseValue)\n  }\n\n  return {\n    value,\n    hasChanged,\n    data,\n    loading,\n    error,\n    onChange: setState,\n    onInputChange: e => setState(e.target.value),\n\n    reset: handleReset,\n    submit: handleSubmit\n  }\n}\n\nexport const TempValue = memo(function TempValue(props) {\n  const all = useTempValue(props.initialValue, props)\n\n  return props.children(all)\n})\n\nfunction noop() {}\nTempValue.defaultProps = {\n  onReset: noop,\n  onSubmit: noop\n}\n","import React, { useState, useEffect } from 'react'\n\nconst toString = value => JSON.stringify(value)\n\nexport function useLocalStorage(key) {\n  const [state, setState] = useState(null)\n\n  useEffect(() => {\n    if (localStorage.hasOwnProperty(key)) {\n      // get the key's value from localStorage\n      let value = localStorage.getItem(key)\n\n      // parse the localStorage string and setState\n      try {\n        value = JSON.parse(value)\n      } finally {\n        setState(value)\n      }\n    }\n  }, [])\n\n  function handleStorageChange(e) {\n    const { isTrusted, newValue: value } = e\n\n    if (isTrusted) {\n      setState(value)\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener('storage', handleStorageChange)\n\n    return () => window.removeEventListener('storage', handleStorageChange)\n  }, [])\n\n  useEffect(\n    () => {\n      if (state == undefined) {\n        localStorage.removeItem(key)\n      } else {\n        localStorage.setItem(key, toString(state))\n      }\n    },\n    [key, state]\n  )\n\n  return {\n    state,\n    setState\n  }\n}\n\nexport class LocalStorage extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {}\n    this.normalizeSetState = this.normalizeSetState.bind(this)\n    this.update = this.update.bind(this)\n    this.clear = this.clear.bind(this)\n    this.clearState = this.clearState.bind(this)\n    this.handleStorageChange = this.handleStorageChange.bind(this)\n    this.handleStorageUpdate = this.handleStorageUpdate.bind(this)\n  }\n\n  componentDidMount() {\n    this.storage = window.localStorage\n\n    const component = this\n    // https://hackernoon.com/how-to-take-advantage-of-local-storage-in-your-react-projects-a895f2b2d3f2\n    Object.keys(this.state).forEach(key => {\n      // if the key exists in localStorage\n      if (localStorage.hasOwnProperty(key)) {\n        // get the key's value from localStorage\n        let value = localStorage.getItem(key)\n\n        // parse the localStorage string and setState\n        try {\n          value = JSON.parse(value)\n          component.setState({ [key]: value })\n        } catch (e) {\n          // handle empty string\n          component.setState({ [key]: value })\n        }\n      }\n    })\n\n    window.addEventListener('storage', this.handleStorageChange)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('storage', this.handleStorageChange)\n  }\n\n  handleStorageChange(e) {\n    const { isTrusted, key, newValue: value } = e\n\n    if (isTrusted) {\n      if (key) {\n        this.normalizeSetState(key, value)\n      } else {\n        this.clearState()\n      }\n    }\n  }\n\n  normalizeSetState(key, value) {\n    if (value == null) {\n      this.setState({ [key]: undefined })\n    } else {\n      this.setState({ [key]: value })\n    }\n  }\n\n  handleStorageUpdate(key, value) {\n    if (this.storage) {\n      if (value == null) {\n        this.storage.removeItem(key)\n      } else {\n        this.storage.setItem(key, toString(value))\n      }\n    }\n  }\n\n  update(changes) {\n    this.setState(changes, () => {\n      Object.keys(this.state).map(key => this.handleStorageUpdate(key, changes[key]))\n    })\n  }\n\n  clear() {\n    this.storage && this.storage.clear()\n    this.clearState()\n  }\n\n  clearState() {\n    Object.keys(this.state).forEach(key => this.normalizeSetState(key, undefined))\n  }\n\n  render() {\n    return this.props.children({\n      state: this.state,\n      setState: this.update,\n      clear: this.clear\n    })\n  }\n}\n"],"names":["useAsyncCallback","cb","useState","loading","setLoading","error","setError","data","setData","response","AsyncButton","memo","props","onClick","children","wait","t","Promise","res","setTimeout","CopyButton","interval","onCopy","copied","React","text","useEventListener","eventName","handler","useEffect","document","addEventListener","removeEventListener","useKeyboardListener","key","handleKeyDown","event","ESCAPE_KEY","ClickAway","enhanceWithClickOutside","e","onClickAway","PureComponent","Modal","open","displayName","useTempValue","initialValue","onSubmit","onReset","value","setState","baseValue","setBaseValue","hasChanged","useMemo","isEqual","handleSubmit","handleReset","onChange","onInputChange","target","reset","submit","TempValue","all","noop","defaultProps","toString","JSON","stringify","useLocalStorage","state","localStorage","hasOwnProperty","getItem","parse","handleStorageChange","isTrusted","newValue","window","undefined","removeItem","setItem","LocalStorage","normalizeSetState","bind","update","clear","clearState","handleStorageUpdate","storage","component","Object","keys","forEach","changes","map","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;EAEO,SAASA,gBAAT,CAA0BC,EAA1B,EAA8B;EAAA,kBACLC,cAAQ,CAAC,IAAD,CADH;EAAA;EAAA,MAC5BC,OAD4B;EAAA,MACnBC,UADmB;;EAAA,mBAETF,cAAQ,CAAC,IAAD,CAFC;EAAA;EAAA,MAE5BG,KAF4B;EAAA,MAErBC,QAFqB;;EAAA,mBAGXJ,cAAQ,CAAC,IAAD,CAHG;EAAA;EAAA,MAG5BK,IAH4B;EAAA,MAGtBC,OAHsB;;EAKnC,SAAO;EAAA;EAAA;EAAA;EAAA,2BACL;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EACEJ,YAAAA,UAAU,CAAC,IAAD,CAAV;EACAE,YAAAA,QAAQ,CAAC,IAAD,CAAR;EAFF;EAAA;EAAA,mBAI2BL,EAAE,MAAF,eAJ3B;;EAAA;EAIUQ,YAAAA,QAJV;EAKID,YAAAA,OAAO,CAACC,QAAD,CAAP;EALJ,6CAMWA,QANX;;EAAA;EAAA;EAAA;EAQIH,YAAAA,QAAQ,aAAR;;EARJ;EAAA;EAUIF,YAAAA,UAAU,CAAC,KAAD,CAAV;EAVJ;;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA,GADK,IAcL;EACEG,IAAAA,IAAI,EAAJA,IADF;EAEEJ,IAAAA,OAAO,EAAPA,OAFF;EAGEE,IAAAA,KAAK,EAALA;EAHF,GAdK,CAAP;EAoBD;AAED,MAAaK,WAAW,GAAGC,UAAI,CAAC,SAASD,WAAT,CAAqBE,KAArB,EAA4B;EAAA,0BACdZ,gBAAgB,CAACY,KAAK,CAACC,OAAP,CADF;EAAA;EAAA,MACnDA,OADmD;EAAA;EAAA,MACxCN,IADwC,uBACxCA,IADwC;EAAA,MAClCJ,OADkC,uBAClCA,OADkC;EAAA,MACzBE,KADyB,uBACzBA,KADyB;;EAE1D,SAAOO,KAAK,CAACE,QAAN,CAAe;EACpBP,IAAAA,IAAI,EAAJA,IADoB;EAEpBJ,IAAAA,OAAO,EAAPA,OAFoB;EAGpBE,IAAAA,KAAK,EAALA,KAHoB;EAIpBQ,IAAAA,OAAO,EAAPA;EAJoB,GAAf,CAAP;EAMD,CAR8B,CAAxB;;ECxBP,IAAME,IAAI,GAAG,SAAPA,IAAO,CAAAC,CAAC;EAAA,SAAI;EAAA,WAAM,IAAIC,OAAJ,CAAY,UAAAC,GAAG;EAAA,aAAIC,UAAU,CAACD,GAAD,EAAMF,CAAN,CAAd;EAAA,KAAf,CAAN;EAAA,GAAJ;EAAA,CAAd;;AAEA,MAAaI,UAAU,GAAGT,UAAI,CAAC,SAASS,UAAT,CAAoBR,KAApB,EAA2B;EAAA,0BAClBZ,kBAAgB,CACpDe,IAAI,CAACH,KAAK,CAACS,QAAN,IAAkB,IAAlB,GAAyB,IAAzB,GAAgCT,KAAK,CAACS,QAAvC,CADgD,CADE;EAAA;EAAA,MACjDC,MADiD;EAAA,MAC9BC,MAD8B,yBACvCpB,OADuC;;EAKxD,SACEqB,6BAAC,eAAD;EAAiB,IAAA,IAAI,EAAEZ,KAAK,CAACa,IAA7B;EAAmC,IAAA,MAAM,EAAEH;EAA3C,KACGV,KAAK,CAACE,QAAN,CAAe;EAAES,IAAAA,MAAM,EAANA;EAAF,GAAf,CADH,CADF;EAKD,CAV6B,CAAvB;;MCJMG,gBAAgB,GAAG,SAAnBA,gBAAmB,CAASC,SAAT,EAAoBC,OAApB,EAA6B;EAC3D,SAAOC,eAAS,CAAC,YAAM;EACrBC,IAAAA,QAAQ,CAACC,gBAAT,CAA0BJ,SAA1B,EAAqCC,OAArC,EAA8C,KAA9C;EAEA,WAAO;EAAA,aAAME,QAAQ,CAACE,mBAAT,CAA6BL,SAA7B,EAAwCC,OAAxC,EAAiD,KAAjD,CAAN;EAAA,KAAP;EACD,GAJe,CAAhB;EAKD,CANM;AAQP,MAAaK,mBAAmB,GAAG,SAAtBA,mBAAsB,CAASC,GAAT,EAAcN,OAAd,EAAuB;EACxD,WAASO,aAAT,CAAuBC,KAAvB,EAA8B;EAC5B,QAAIA,KAAK,CAACF,GAAN,KAAcA,GAAlB,EAAuB;EACrB,aAAON,OAAO,CAACQ,KAAD,CAAd;EACD;EACF;;EAED,SAAOV,gBAAgB,CAAC,SAAD,EAAYS,aAAZ,CAAvB;EACD,CARM;EAUP,IAAME,UAAU,GAAG,QAAnB;EAEA,IAAMC,SAAS,GAAGC,uBAAuB;EAAA;EAAA;EAAA;;EAAA;EAAA;;EAAA;EAAA;;EAAA;EAAA;EAAA,uCAElBC,CAFkB,EAEf;EACpB,WAAK5B,KAAL,CAAW6B,WAAX,CAAuBD,CAAvB;EACD;EAJoC;EAAA;EAAA,6BAK5B;EACP,aAAO,KAAK5B,KAAL,CAAWE,QAAlB;EACD;EAPoC;;EAAA;EAAA,EACRU,cAAK,CAACkB,aADE,EAAzC;AAWA,MAAaC,KAAK,GAAGhC,UAAI,CAAC,UAAAC,KAAK,EAAI;EACjCqB,EAAAA,mBAAmB,CAACI,UAAD,EAAazB,KAAK,CAAC6B,WAAnB,CAAnB;EACA,SAAOjB,6BAAC,SAAD;EAAW,IAAA,WAAW,EAAEZ,KAAK,CAAC6B;EAA9B,KAA4C7B,KAAK,CAACgC,IAAN,GAAahC,KAAK,CAACE,QAAnB,GAA8B,IAA1E,CAAP;EACD,CAHwB,CAAlB;EAKP6B,KAAK,CAACE,WAAN,GAAoB,OAApB;;EClCO,SAASC,YAAT,CAAsBC,YAAtB,EAAgE;EAAA,iFAAJ,EAAI;EAAA,MAA1BC,QAA0B,QAA1BA,QAA0B;EAAA,MAAhBC,OAAgB,QAAhBA,OAAgB;;EAAA,kBAC3C/C,cAAQ,CAAC6C,YAAD,CADmC;EAAA;EAAA,MAC9DG,KAD8D;EAAA,MACvDC,QADuD;;EAAA,mBAEnCjD,cAAQ,CAAC6C,YAAD,CAF2B;EAAA;EAAA,MAE9DK,SAF8D;EAAA,MAEnDC,YAFmD;;EAIrE,MAAMC,UAAU,GAAG,CAACC,aAAO,CAAC;EAAA,WAAMC,OAAO,CAACJ,SAAD,EAAYF,KAAZ,CAAb;EAAA,GAAD,EAAkC,CAACE,SAAD,EAAYF,KAAZ,CAAlC,CAA3B;;EAJqE,0BAMpBlD,kBAAgB;EAAA;EAAA;EAAA;EAAA,2BAAC;EAAA;EAAA;EAAA;EAAA;EAAA,iBAC5DgD,QAD4D;EAAA;EAAA;EAAA;;EAAA;EAAA,mBAExDA,QAAQ,CAACE,KAAD,CAFgD;;EAAA;EAIhEG,YAAAA,YAAY,CAACH,KAAD,CAAZ;;EAJgE;EAAA;EAAA;EAAA;EAAA;EAAA;EAAA,GAAD,GANI;EAAA;EAAA,MAM9DO,YAN8D;EAAA;EAAA,MAM9ClD,IAN8C,uBAM9CA,IAN8C;EAAA,MAMxCJ,OANwC,uBAMxCA,OANwC;EAAA,MAM/BE,KAN+B,uBAM/BA,KAN+B;;EAarE,WAASqD,WAAT,GAAuB;EACrB,QAAIT,OAAJ,EAAa;EACXA,MAAAA,OAAO,CAACC,KAAD,CAAP;EACD;;EACDC,IAAAA,QAAQ,CAACC,SAAD,CAAR;EACD;;EAED,SAAO;EACLF,IAAAA,KAAK,EAALA,KADK;EAELI,IAAAA,UAAU,EAAVA,UAFK;EAGL/C,IAAAA,IAAI,EAAJA,IAHK;EAILJ,IAAAA,OAAO,EAAPA,OAJK;EAKLE,IAAAA,KAAK,EAALA,KALK;EAMLsD,IAAAA,QAAQ,EAAER,QANL;EAOLS,IAAAA,aAAa,EAAE,uBAAApB,CAAC;EAAA,aAAIW,QAAQ,CAACX,CAAC,CAACqB,MAAF,CAASX,KAAV,CAAZ;EAAA,KAPX;EASLY,IAAAA,KAAK,EAAEJ,WATF;EAULK,IAAAA,MAAM,EAAEN;EAVH,GAAP;EAYD;AAED,MAAaO,SAAS,GAAGrD,UAAI,CAAC,SAASqD,SAAT,CAAmBpD,KAAnB,EAA0B;EACtD,MAAMqD,GAAG,GAAGnB,YAAY,CAAClC,KAAK,CAACmC,YAAP,EAAqBnC,KAArB,CAAxB;EAEA,SAAOA,KAAK,CAACE,QAAN,CAAemD,GAAf,CAAP;EACD,CAJ4B,CAAtB;;EAMP,SAASC,IAAT,GAAgB;;EAChBF,SAAS,CAACG,YAAV,GAAyB;EACvBlB,EAAAA,OAAO,EAAEiB,IADc;EAEvBlB,EAAAA,QAAQ,EAAEkB;EAFa,CAAzB;;EC5CA,IAAME,QAAQ,GAAG,SAAXA,QAAW,CAAAlB,KAAK;EAAA,SAAImB,IAAI,CAACC,SAAL,CAAepB,KAAf,CAAJ;EAAA,CAAtB;;AAEA,EAAO,SAASqB,eAAT,CAAyBrC,GAAzB,EAA8B;EAAA,kBACThC,cAAQ,CAAC,IAAD,CADC;EAAA;EAAA,MAC5BsE,KAD4B;EAAA,MACrBrB,QADqB;;EAGnCtB,EAAAA,eAAS,CAAC,YAAM;EACd,QAAI4C,YAAY,CAACC,cAAb,CAA4BxC,GAA5B,CAAJ,EAAsC;EACpC;EACA,UAAIgB,KAAK,GAAGuB,YAAY,CAACE,OAAb,CAAqBzC,GAArB,CAAZ,CAFoC;;EAKpC,UAAI;EACFgB,QAAAA,KAAK,GAAGmB,IAAI,CAACO,KAAL,CAAW1B,KAAX,CAAR;EACD,OAFD,SAEU;EACRC,QAAAA,QAAQ,CAACD,KAAD,CAAR;EACD;EACF;EACF,GAZQ,EAYN,EAZM,CAAT;;EAcA,WAAS2B,mBAAT,CAA6BrC,CAA7B,EAAgC;EAAA,QACtBsC,SADsB,GACStC,CADT,CACtBsC,SADsB;EAAA,QACD5B,KADC,GACSV,CADT,CACXuC,QADW;;EAG9B,QAAID,SAAJ,EAAe;EACb3B,MAAAA,QAAQ,CAACD,KAAD,CAAR;EACD;EACF;;EAEDrB,EAAAA,eAAS,CAAC,YAAM;EACdmD,IAAAA,MAAM,CAACjD,gBAAP,CAAwB,SAAxB,EAAmC8C,mBAAnC;EAEA,WAAO;EAAA,aAAMG,MAAM,CAAChD,mBAAP,CAA2B,SAA3B,EAAsC6C,mBAAtC,CAAN;EAAA,KAAP;EACD,GAJQ,EAIN,EAJM,CAAT;EAMAhD,EAAAA,eAAS,CACP,YAAM;EACJ,QAAI2C,KAAK,IAAIS,SAAb,EAAwB;EACtBR,MAAAA,YAAY,CAACS,UAAb,CAAwBhD,GAAxB;EACD,KAFD,MAEO;EACLuC,MAAAA,YAAY,CAACU,OAAb,CAAqBjD,GAArB,EAA0BkC,QAAQ,CAACI,KAAD,CAAlC;EACD;EACF,GAPM,EAQP,CAACtC,GAAD,EAAMsC,KAAN,CARO,CAAT;EAWA,SAAO;EACLA,IAAAA,KAAK,EAALA,KADK;EAELrB,IAAAA,QAAQ,EAARA;EAFK,GAAP;EAID;AAED,MAAaiC,YAAb;EAAA;EAAA;EAAA;;EACE,wBAAYxE,KAAZ,EAAmB;EAAA;;EAAA;;EACjB,sFAAMA,KAAN;EAEA,UAAK4D,KAAL,GAAa,EAAb;EACA,UAAKa,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBC,IAAvB,uDAAzB;EACA,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYD,IAAZ,uDAAd;EACA,UAAKE,KAAL,GAAa,MAAKA,KAAL,CAAWF,IAAX,uDAAb;EACA,UAAKG,UAAL,GAAkB,MAAKA,UAAL,CAAgBH,IAAhB,uDAAlB;EACA,UAAKT,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBS,IAAzB,uDAA3B;EACA,UAAKI,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBJ,IAAzB,uDAA3B;EATiB;EAUlB;;EAXH;EAAA;EAAA,wCAasB;EAClB,WAAKK,OAAL,GAAeX,MAAM,CAACP,YAAtB;EAEA,UAAMmB,SAAS,GAAG,IAAlB,CAHkB;;EAKlBC,MAAAA,MAAM,CAACC,IAAP,CAAY,KAAKtB,KAAjB,EAAwBuB,OAAxB,CAAgC,UAAA7D,GAAG,EAAI;EACrC;EACA,YAAIuC,YAAY,CAACC,cAAb,CAA4BxC,GAA5B,CAAJ,EAAsC;EACpC;EACA,cAAIgB,KAAK,GAAGuB,YAAY,CAACE,OAAb,CAAqBzC,GAArB,CAAZ,CAFoC;;EAKpC,cAAI;EACFgB,YAAAA,KAAK,GAAGmB,IAAI,CAACO,KAAL,CAAW1B,KAAX,CAAR;EACA0C,YAAAA,SAAS,CAACzC,QAAV,qBAAsBjB,GAAtB,EAA4BgB,KAA5B;EACD,WAHD,CAGE,OAAOV,CAAP,EAAU;EACV;EACAoD,YAAAA,SAAS,CAACzC,QAAV,qBAAsBjB,GAAtB,EAA4BgB,KAA5B;EACD;EACF;EACF,OAfD;EAiBA8B,MAAAA,MAAM,CAACjD,gBAAP,CAAwB,SAAxB,EAAmC,KAAK8C,mBAAxC;EACD;EApCH;EAAA;EAAA,2CAsCyB;EACrBG,MAAAA,MAAM,CAAChD,mBAAP,CAA2B,SAA3B,EAAsC,KAAK6C,mBAA3C;EACD;EAxCH;EAAA;EAAA,wCA0CsBrC,CA1CtB,EA0CyB;EAAA,UACbsC,SADa,GACuBtC,CADvB,CACbsC,SADa;EAAA,UACF5C,GADE,GACuBM,CADvB,CACFN,GADE;EAAA,UACagB,KADb,GACuBV,CADvB,CACGuC,QADH;;EAGrB,UAAID,SAAJ,EAAe;EACb,YAAI5C,GAAJ,EAAS;EACP,eAAKmD,iBAAL,CAAuBnD,GAAvB,EAA4BgB,KAA5B;EACD,SAFD,MAEO;EACL,eAAKuC,UAAL;EACD;EACF;EACF;EApDH;EAAA;EAAA,sCAsDoBvD,GAtDpB,EAsDyBgB,KAtDzB,EAsDgC;EAC5B,UAAIA,KAAK,IAAI,IAAb,EAAmB;EACjB,aAAKC,QAAL,qBAAiBjB,GAAjB,EAAuB+C,SAAvB;EACD,OAFD,MAEO;EACL,aAAK9B,QAAL,qBAAiBjB,GAAjB,EAAuBgB,KAAvB;EACD;EACF;EA5DH;EAAA;EAAA,wCA8DsBhB,GA9DtB,EA8D2BgB,KA9D3B,EA8DkC;EAC9B,UAAI,KAAKyC,OAAT,EAAkB;EAChB,YAAIzC,KAAK,IAAI,IAAb,EAAmB;EACjB,eAAKyC,OAAL,CAAaT,UAAb,CAAwBhD,GAAxB;EACD,SAFD,MAEO;EACL,eAAKyD,OAAL,CAAaR,OAAb,CAAqBjD,GAArB,EAA0BkC,QAAQ,CAAClB,KAAD,CAAlC;EACD;EACF;EACF;EAtEH;EAAA;EAAA,2BAwES8C,OAxET,EAwEkB;EAAA;;EACd,WAAK7C,QAAL,CAAc6C,OAAd,EAAuB,YAAM;EAC3BH,QAAAA,MAAM,CAACC,IAAP,CAAY,MAAI,CAACtB,KAAjB,EAAwByB,GAAxB,CAA4B,UAAA/D,GAAG;EAAA,iBAAI,MAAI,CAACwD,mBAAL,CAAyBxD,GAAzB,EAA8B8D,OAAO,CAAC9D,GAAD,CAArC,CAAJ;EAAA,SAA/B;EACD,OAFD;EAGD;EA5EH;EAAA;EAAA,4BA8EU;EACN,WAAKyD,OAAL,IAAgB,KAAKA,OAAL,CAAaH,KAAb,EAAhB;EACA,WAAKC,UAAL;EACD;EAjFH;EAAA;EAAA,iCAmFe;EAAA;;EACXI,MAAAA,MAAM,CAACC,IAAP,CAAY,KAAKtB,KAAjB,EAAwBuB,OAAxB,CAAgC,UAAA7D,GAAG;EAAA,eAAI,MAAI,CAACmD,iBAAL,CAAuBnD,GAAvB,EAA4B+C,SAA5B,CAAJ;EAAA,OAAnC;EACD;EArFH;EAAA;EAAA,6BAuFW;EACP,aAAO,KAAKrE,KAAL,CAAWE,QAAX,CAAoB;EACzB0D,QAAAA,KAAK,EAAE,KAAKA,KADa;EAEzBrB,QAAAA,QAAQ,EAAE,KAAKoC,MAFU;EAGzBC,QAAAA,KAAK,EAAE,KAAKA;EAHa,OAApB,CAAP;EAKD;EA7FH;;EAAA;EAAA,EAAkChE,cAAK,CAAC0E,SAAxC;;;;;;;;;;;;;;;;;;;;;"}