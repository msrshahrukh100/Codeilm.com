'use strict';

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var subscribe = _interopDefault(require('callbag-subscribe'));
var react = require('react');

var ONCE = [];
function useCallbag(initialState, factory) {
  var _useState = react.useState(initialState),
      state = _useState[0],
      setState = _useState[1];

  react.useEffect(function () {
    return subscribe(setState)(factory(initialState));
  }, ONCE);
  return state;
}

module.exports = useCallbag;
