import subscribe from 'callbag-subscribe';
import { useEffect, useState } from 'react';

var ONCE = [];
function useCallbag(initialState, factory) {
  var _useState = useState(initialState),
      state = _useState[0],
      setState = _useState[1];

  useEffect(function () {
    return subscribe(setState)(factory(initialState));
  }, ONCE);
  return state;
}

export default useCallbag;
