var e,t=(e=require("codemirror"))&&"object"==typeof e&&"default"in e?e.default:e;t.defineMode("elixir",function(e){var t,n=function(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t},r=n(["alias","case","cond","def","defmodule","defp","defstruct","defprotocol","defimpl","defmacro","quote","unquote","receive","fn","do","else","else if","end","false","if","in","next","rescue","for","true","unless","when","nil","raise","throw","try","catch","after","with","require","use","__MODULE__","__FILE__","__DIR__","__ENV__","__CALLER__"]),a=n(["def","defmodule","defp","case","cond","rescue","try","catch","->"]),i=n(["end"]),o={"[":"]","{":"}","(":")"},u=function(e,t,n){return n.tokenize.push(e),e(t,n)},f=function(e,n){if(e.sol()&&e.match('"""')&&e.eol())return n.tokenize.push(p),"comment";if(e.eatSpace())return null;var r,a=e.next();if("'"===a||'"'===a)return u(d(a,"string",'"'===a),e,n);if("/"===a){var i=e.current().length;if(e.skipTo("/")){var f=e.current().length,l=0;for(e.backUp(e.current().length-i);e.current().length<f;){var c=e.next();if("("===c?l+=1:")"===c&&(l-=1),l<0)break}if(e.backUp(e.current().length-i),0===l)return u(d(a,"string-2",!0),e,n)}return"operator"}if("%"===a){var k="string",h=!0;e.eat("s")?k="atom":e.eat(/[WQ]/)?k="string":e.eat(/[r]/)?k="string-2":e.eat(/[wxq]/)&&(k="string",h=!1);var m=e.eat(/[^\w\s=]/);return m?(o.propertyIsEnumerable(m)&&(m=o[m]),u(d(m,k,h,!0),e,n)):"operator"}if("#"===a)return e.skipToEnd(),"comment";if("<"===a&&(r=e.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return u(s(r[1]),e,n);if("0"===a)return e.eat("x")?e.eatWhile(/[\da-fA-F]/):e.eat("b")?e.eatWhile(/[01]/):e.eatWhile(/[0-7]/),"number";if(/\d/.test(a))return e.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"===a){for(;e.match(/^\\[CM]-/););return e.eat("\\")?e.eatWhile(/\w/):e.next(),"string"}return":"===a?e.eat("'")?u(d("'","atom",!1),e,n):e.eat('"')?u(d('"',"atom",!0),e,n):e.eat(/[\<\>]/)?(e.eat(/[\<\>]/),"atom"):e.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":e.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(e.eatWhile(/[\w$\xa1-\uffff]/),e.eat(/[\?\!\=]/),"atom"):"operator":"@"===a&&e.match(/^@?[a-zA-Z_\xa1-\uffff]/)?(e.eat("@"),e.eatWhile(/[\w\xa1-\uffff]/),"variable-2"):"$"===a?(e.eat(/[a-zA-Z_]/)?e.eatWhile(/[\w]/):e.eat(/\d/)?e.eat(/\d/):e.next(),"variable-3"):/[a-zA-Z_\xa1-\uffff]/.test(a)?(e.eatWhile(/[\w\xa1-\uffff]/),e.eat(/[\?\!]/),e.eat(":")?"atom":"ident"):"|"!==a||!n.varList&&"{"!==n.lastTok&&"do"!==n.lastTok?/[\(\)\[\]{}\\;]/.test(a)?(t=a,null):"-"===a&&e.eat(">")?"arrow":"|"===a&&e.eat(">")?"pipe":/[=+\-\/*:\.^%<>~|]/.test(a)?("."!==a||e.eatWhile(/[=+\-\/*:\.^%<>~|]/)||(t="."),"operator"):null:(t="|",null)},l=function(e){return e||(e=1),function(t,n){if("}"===t.peek()){if(1===e)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n);n.tokenize[n.tokenize.length-1]=l(e-1)}else"{"===t.peek()&&(n.tokenize[n.tokenize.length-1]=l(e+1));return f(t,n)}},c=function(){var e=!1;return function(t,n){return e?(n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n)):(e=!0,f(t,n))}},d=function(e,t,n,r){return function(a,i){var o,u=!1;for("read-quoted-paused"===i.context.type&&(i.context=i.context.prev,a.eat("}"));null!=(o=a.next());){if(o===e&&(r||!u)){i.tokenize.pop();break}if(n&&"#"===o&&!u){if(a.eat("{")){"}"===e&&(i.context={prev:i.context,type:"read-quoted-paused"}),i.tokenize.push(l());break}if(/[@\$]/.test(a.peek())){i.tokenize.push(c());break}}u=!u&&"\\"===o}return t}},s=function(e){return function(t,n){return t.match(e)?n.tokenize.pop():t.skipToEnd(),"string"}},p=function(e,t){return e.sol()&&e.match('"""')&&e.eol()&&t.tokenize.pop(),e.skipToEnd(),"comment"};return{startState:function(){return{tokenize:[f],indented:0,context:{type:"top",indented:-e.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,n){t=null;var o,u=n.tokenize[n.tokenize.length-1](e,n),f=t;if("ident"===u){var l=e.current();u="."===n.lastTok?"property":r.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(l)?"tag":"def"===n.lastTok||"class"===n.lastTok||n.varList?"def":"variable";var c=e.column()===e.indentation();"keyword"===u&&(f=l,a.propertyIsEnumerable(l)?o="indent":i.propertyIsEnumerable(l)?o="dedent":"if"!==l&&"unless"!==l||!c?"do"===l&&n.context.indented<n.indented&&(o="indent"):o="indent")}return(t||u&&"comment"!==u)&&(n.lastTok=f),"|"===t&&(n.varList=!n.varList),"indent"===o||/[\(\[\{]/.test(t)?n.context={prev:n.context,type:t||u,indented:n.indented}:("dedent"===o||/[\)\]\}]/.test(t))&&n.context.prev&&(n.context=n.context.prev),e.eol()&&(n.continuedLine="\\"===t||"operator"===u),u},electricInput:/^\s*(?:end|rescue|else if|else|catch\})$/,lineComment:"#"}}),t.defineMIME("text/x-elixir","elixir");
//# sourceMappingURL=codemirror-mode-elixir.js.map
