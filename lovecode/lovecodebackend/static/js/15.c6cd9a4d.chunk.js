(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{229:function(e,t,a){"use strict";var r=a(11),n=a(0),o=a.n(n),i=a(6),c=a(959),s=a(958),l=a(960),u=a(957),m=a(956),p=a(64);t.a=Object(i.a)(function(e){var t;return{card:Object(r.a)({maxWidth:"100%",margin:e.spacing(5)},e.breakpoints.down("xs"),{margin:e.spacing(2)}),media:{height:140},actionBtn:{marginLeft:e.spacing(2)},title:(t={marginLeft:16},Object(r.a)(t,e.breakpoints.down("sm"),{fontSize:40}),Object(r.a)(t,e.breakpoints.down("xs"),{fontSize:30}),t)}})(function(e){var t=e.classes,a=o.a.createElement(o.a.Fragment,null,e.image?o.a.createElement(m.a,{className:t.media,image:"/static/images/cards/contemplative-reptile.jpg",title:"Contemplative Reptile"}):null,o.a.createElement(u.a,{onClick:e.onClick},e.title?o.a.createElement(p.a,{className:t.title,gutterBottom:!0,variant:e.headerVariant?e.headerVariant:"h3",component:e.headerComponent?e.headerComponent:"h2"},e.title):null,o.a.createElement(p.a,{component:"div"},e.content))),r=e.onClick?o.a.createElement(s.a,null,a):a;return o.a.createElement(c.a,{className:t.card,elevation:e.elevation},r,e.actionButtons?o.a.createElement(l.a,{className:t.actionBtn},e.actionButtons):null)})},237:function(e,t,a){"use strict";var r=a(28),n=a(29),o=a(31),i=a(30),c=a(32),s=a(0),l=a.n(s),u=a(242),m=a(243),p=a(255),h=function(){return l.a.createElement(p.a,{height:160,width:400,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},l.a.createElement("rect",{x:"54",y:"13",rx:"0",ry:"0",width:"306",height:"9"}),l.a.createElement("rect",{x:"110",y:"32",rx:"0",ry:"0",width:"202",height:"4"}),l.a.createElement("rect",{x:"49",y:"45",rx:"0",ry:"0",width:"316",height:"179"}))},d=a(244),g=a(245),f=a(6),b=a(961);var v=Object(f.a)({root:{flexGrow:1}})(function(e){var t=e.classes;return l.a.createElement("div",{className:t.root},l.a.createElement(b.a,null))}),E=a(34),y=a(79),j=a(33);t.a=function(e,t,a){var s=function(s){function p(){var e,t;Object(r.a)(this,p);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(i.a)(p)).call.apply(e,[this].concat(n)))).state={error:null,loading:null},t.hideErrorHandler=function(){t.setState({error:null})},t}return Object(c.a)(p,s),Object(n.a)(p,[{key:"componentWillMount",value:function(){var e=this;this.reqInterceptor=t.interceptors.request.use(function(t){return e.setState({error:null,loading:!0}),t},function(t){e.setState({error:t,loading:!1})}),this.resInterceptor=t.interceptors.response.use(function(t){return e.setState({loading:!1}),t},function(t){!t.response||401!==t.response.status&&403!==t.response.status?e.setState({error:t,loading:!1}):(e.props.onLogout(),e.props.history.push("/login/?next="+e.props.match.path))})}},{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.reqInterceptor),t.interceptors.response.eject(this.resInterceptor)}},{key:"render",value:function(){var t=l.a.createElement(g.a,{left:l.a.createElement(m.a,null,l.a.createElement(h,null))});return t="list"==a?l.a.createElement(d.a,null):"circular"==a?l.a.createElement(v,null):"detail"==a?l.a.createElement(h,null):null,l.a.createElement(l.a.Fragment,null,t&&this.state.loading?t:null,this.state.error?this.state.error.message:null,this.state.error?l.a.createElement(u.a,{open:!0,type:"error",text:this.state.error.message}):null,this.state.error?null:l.a.createElement(e,this.props))}}]),p}(l.a.Component);return Object(E.b)(function(e){return{authenticated:e.aReducer.authenticated}},function(e){return{onLogout:function(){return e(y.b())}}})(Object(j.f)(s))}},242:function(e,t,a){"use strict";var r=a(28),n=a(29),o=a(31),i=a(30),c=a(32),s=a(80),l=a(0),u=a.n(l),m=a(4),p=a(310),h=a.n(p),d=a(312),g=a.n(d),f=a(313),b=a.n(f),v=a(275),E=a.n(v),y=a(314),j=a.n(y),k=a(315),x=a.n(k),O=a(216),w=a(979),N=a(954),C=a(311),S=a.n(C),_=a(6),F={success:h.a,warning:S.a,error:g.a,info:b.a};var B=Object(_.a)(function(e){return{success:{backgroundColor:j.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:x.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing()},message:{display:"flex",alignItems:"center"}}})(function(e){var t=e.classes,a=e.className,r=e.message,n=e.onClose,o=e.variant,i=Object(s.a)(e,["classes","className","message","onClose","variant"]),c=F[o];return u.a.createElement(N.a,Object.assign({className:Object(m.a)(t[o],a),"aria-describedby":"client-snackbar",message:u.a.createElement("span",{id:"client-snackbar",className:t.message},u.a.createElement(c,{className:Object(m.a)(t.icon,t.iconVariant)}),r),action:[u.a.createElement(O.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:n},u.a.createElement(E.a,{className:t.icon}))]},i))}),I=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={open:a.props.open},a.handleClose=function(e,t){"clickaway"!==t&&a.setState({open:!1})},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.text,r=this.props.onCloseHandler?this.props.onCloseHandler:this.handleClose,n=this.props.onCloseHandler?this.props.open:this.state.open;return u.a.createElement("div",null,u.a.createElement(w.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:n,autoHideDuration:1e4,onClose:r},u.a.createElement(B,{onClose:r,variant:t,message:a})))}}]),t}(u.a.Component);t.a=Object(_.a)(function(e){return{margin:{margin:e.spacing()}}})(I)},243:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(6),i=a(170),c=a(889);t.a=Object(o.a)(function(e){return{root:{flexGrow:1,paddingTop:e.spacing(2)},paper:{padding:e.spacing(2),textAlign:"center"}}})(function(e){var t=e.classes;return n.a.createElement("div",{className:t.root},n.a.createElement(c.a,{container:!0,spacing:0,justify:"center",alignItems:"center"},n.a.createElement(c.a,{item:!0,sm:12,xs:12},n.a.createElement(i.a,{elevation:0,className:t.paper},e.children))))})},244:function(e,t,a){"use strict";var r=a(255),n=a(0),o=a.n(n),i=a(229);t.a=function(){var e=o.a.createElement(r.a,{height:"155",width:"1793",speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},o.a.createElement("rect",{x:"0",y:"18",rx:"0",ry:"0",width:"1500",height:"25"}),o.a.createElement("circle",{cx:"30",cy:"90",r:"25"}),o.a.createElement("rect",{x:"70",y:"70",rx:"0",ry:"0",width:"190",height:"8"}),o.a.createElement("rect",{x:"70",y:"90",rx:"0",ry:"0",width:"80",height:"6"}),o.a.createElement("rect",{x:"5",y:"140",rx:"0",ry:"0",width:"30",height:"13"}),o.a.createElement("rect",{x:"40",y:"140",rx:"0",ry:"0",width:"30",height:"13"}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{content:e}),o.a.createElement(i.a,{content:e}),o.a.createElement(i.a,{content:e}))}},245:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(6),i=a(170),c=a(889);t.a=Object(o.a)(function(e){return{root:{flexGrow:1},paper:{textAlign:"center"}}})(function(e){var t=e.classes;return n.a.createElement("div",{className:t.root},n.a.createElement(c.a,{container:!0,spacing:0},n.a.createElement(c.a,{item:!0,xs:12,sm:e.right?8:12},n.a.createElement(i.a,{elevation:0,className:t.paper},e.left)),e.right?n.a.createElement(c.a,{item:!0,xs:12,sm:4},n.a.createElement(i.a,{elevation:0,className:t.paper},e.right)):null))})},273:function(e,t,a){"use strict";t.a=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var a=document.cookie.split(";"),r=0;r<a.length;r++){var n=a[r].trim();if(n.substring(0,e.length+1)===e+"="){t=decodeURIComponent(n.substring(e.length+1));break}}return t}},325:function(e,t,a){"use strict";var r=a(28),n=a(29),o=a(31),i=a(30),c=a(32),s=a(0),l=a.n(s),u=a(6),m=a(183),p=a(870),h=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).userClicked=function(e){e.stopPropagation(),window.location="/u/".concat(a.props.user.id,"/").concat(a.props.user.username)},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.user?l.a.createElement("p",null,l.a.createElement("span",{className:e.name},this.props.user.full_name),l.a.createElement("br",null),l.a.createElement("span",{className:e.intro},this.props.user.intro)):null;return this.props.user?l.a.createElement(p.a,{avatar:l.a.createElement(m.a,{className:e.avatar,alt:this.props.user.full_name,src:this.props.user.user_profile_pic}),label:t,onClick:this.userClicked,className:e.chip}):null}}]),t}(l.a.Component);t.a=Object(u.a)(function(e){return{chip:{marginLeft:e.spacing(2),marginTop:e.spacing(2),backgroundColor:"white","&:hover":{background:"white"},"&:focus":{background:"white"}},avatar:{marginRight:e.spacing(1),width:50,height:50},name:{fontSize:15},intro:{fontSize:13,color:"grey"}}})(h)},971:function(e,t,a){"use strict";a.r(t);var r=a(28),n=a(29),o=a(31),i=a(30),c=a(32),s=a(0),l=a.n(s),u=a(77),m=a(237),p=a(6),h=a(977),d=a(33),g=a(897),f=a(173),b=a(261),v=a(273),E=a(229),y=a(325),j=a(34),k=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).getBranchName=function(e){var t=new URLSearchParams(e.location.search),a=!0,r=!1,n=void 0;try{for(var o,i=t.entries()[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var c=o.value;if("branch_name"===c[0])return c[1]}}catch(s){r=!0,n=s}finally{try{a||null==i.return||i.return()}finally{if(r)throw n}}return null},a.titleUpdate=function(e){a.setState({title:e.target.value,emptyError:""===e.target.value,error:null})},a.createTutorial=function(){if(a.setState(function(e,t){return{loading:""!==e.title,emptyError:""===e.title,error:""===e.title?"Title can't be blank":null}}),""!==a.state.title){var e=Object(v.a)("csrftoken"),t=a.props.match.params.repoName,r=a.getBranchName(a.props),n={title:a.state.title,branch_name:r,repo_name:t,repo_data:a.props.repoData};u.a.defaults.headers.common["X-CSRFToken"]=e,u.a.post("/tutorials/create_or_get",n).then(function(e){var n=e.data;n.created?(a.setState({loading:!1}),n.tutorial_data.repository_name?a.props.history.push("/create/"+t+"/"+n.tutorial_data.id+"/"+n.tutorial_data.slug+"/"+r):a.props.history.push("/create/new/"+n.tutorial_data.id+"/"+n.tutorial_data.slug)):a.setState({loading:!1,emptyError:!0,error:"A story with this name already exists"})}).catch(function(e){console.log(e),a.setState({error:e})})}};var n=e.match.params.repoName,c=a.getBranchName(e);return a.state={title:"",error:null,emptyError:!1,tutorials:null,repoName:n,branchName:c},a}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.repoName&&this.state.branchName&&u.a.get("/tutorials/?repo_name="+this.state.repoName+"&branch_name="+this.state.branchName+"&repo_create=true").then(function(t){e.setState({tutorials:t.data})}).catch(function(t){console.log(t),e.setState({error:t,loading:!1})})}},{key:"render",value:function(){var e=this.props.classes,t=this.props.match.params.repoName,a=this.getBranchName(this.props),r=this.state.tutorials?this.state.tutorials.results.map(function(e,r){return l.a.createElement(E.a,{key:e.id,link:"/create/"+t+"/"+e.id+"/"+e.slug+"/"+a,content:l.a.createElement(y.a,{user:e.user}),title:e.title})}):null;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.container},l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{error:this.state.emptyError,id:"outlined-name",label:"Title of your story",value:this.state.title,onChange:this.titleUpdate,className:e.textField,margin:"normal",variant:"outlined"}),l.a.createElement("p",{style:{color:"red",paddingLeft:"10px"}},this.state.error),l.a.createElement(g.a,{variant:"extended",onClick:this.createTutorial,disabled:this.state.loading,size:"medium",color:"primary","aria-label":"Add",className:e.margin},l.a.createElement(b.b.Provider,{value:{size:"2em"}},l.a.createElement(f.a,{className:e.extendedIcon})),"Create your Story")),r&&r.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",{className:e.margin},"Stories with this branch and repo"),r):null))}}]),t}(l.a.Component);t.default=Object(m.a)(Object(p.a)(function(e){return{textField:{width:"95%",margin:e.spacing()},repoField:{minWidth:120,margin:e.spacing()},container:{position:"absolute",top:"90px",width:"95%"},margin:{margin:e.spacing(),textTransform:"none"},extendedIcon:{marginRight:e.spacing()}}})(Object(d.f)(Object(j.b)(function(e){return{repoData:e.rdReducer.repoData}},null)(k))),u.a,"circular")}}]);
//# sourceMappingURL=15.c6cd9a4d.chunk.js.map