{"version":3,"sources":["containers/RepoList/RepoList.js"],"names":["RepoList","state","userrepositories","links","pageNumber","loading","hasMoreRepo","error","fetchRepositories","axios","defaults","headers","common","concat","localStorage","getItem","get","_this","then","response","setState","data","next","catch","this","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_infinite_scroll_component__WEBPACK_IMPORTED_MODULE_9___default","dataLength","length","hasMore","loader","_components_UI_PageLayout_PageLayout__WEBPACK_IMPORTED_MODULE_10__","_components_UI_SkeletonLoaders_ListPageSkeleton__WEBPACK_IMPORTED_MODULE_11__","map","repo","_components_UI_MediaCard_MediaCard__WEBPACK_IMPORTED_MODULE_8__","key","id","onClick","props","setRepoData","link","name","search","default_branch","title","React","Component","withErrorHandler","withRouter","connect","dispatch","actionCreators"],"mappings":"kPAWMA,6MAEJC,MAAQ,CACNC,iBAAkB,GAClBC,MAAM,GACNC,WAAY,EACZC,SAAS,EACTC,aAAa,EACbC,MAAO,QAGTC,kBAAoB,WAClBC,IAAMC,SAASC,QAAQC,OAAvB,qBAAAC,OAAwDC,aAAaC,QAAQ,UAC7EN,IAAMO,IAAI,qBAAuBC,EAAKhB,MAAMG,YACzCc,KAAK,SAAAC,GACDA,GAEDF,EAAKG,SAAS,SAAAnB,GAAK,MAAK,CACtBC,iBAAkBD,EAAMC,iBAAiBW,OAAOM,EAASE,KAAKA,MAC9DlB,MAAOgB,EAASE,KAAKlB,MACrBE,SAAS,EACTC,cAAaa,EAASE,KAAKlB,MAAMmB,KACjClB,WAAYe,EAASE,KAAKlB,MAAMmB,KAAOH,EAASE,KAAKlB,MAAMmB,MAAQ,OAKxEC,MAAM,SAAAhB,GACLU,EAAKG,SAAS,CACZb,MAAOA,EACPF,SAAS,0FAMfmB,KAAKhB,qDAGE,IAAAiB,EAAAD,KACP,OACEE,EAAAC,EAAAC,cAACC,EAAAF,EAAD,CACIG,WAAYN,KAAKvB,MAAMC,iBAAiB6B,OACxCT,KAAME,KAAKhB,kBACXwB,QAASR,KAAKvB,MAAMK,YACpB2B,OAAQP,EAAAC,EAAAC,cAACM,EAAA,EAAD,KAAYR,EAAAC,EAAAC,cAACO,EAAA,EAAD,QAEvBX,KAAKvB,MAAMC,iBAAiBkC,IAAI,SAAAC,GAAI,OAAIX,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAWC,IAAKF,EAAKG,GAAIC,QAAS,kBAAMhB,EAAKiB,MAAMC,YAAYN,IAAOO,KAAM,qBAAqBP,EAAKQ,KAAMC,OAAQ,gBAAgBT,EAAKU,eAAgBC,MAAOX,EAAKQ,iBA/C7LI,IAAMC,WA2DdC,sBAAiBC,YAAWC,YAAQ,KANtB,SAAAC,GAC3B,MAAO,CACLX,YAAa,SAAAtB,GAAI,OAAIiC,EAASC,IAA2BlC,OAIlBgC,CAAoCrD,IAAYS,IAAO","file":"static/js/16.673e600d.chunk.js","sourcesContent":["import React from 'react'\nimport axios from '../../lovecodeaxios'\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler'\nimport MediaCard from '../../components/UI/MediaCard/MediaCard'\nimport InfiniteScroll from \"react-infinite-scroll-component\"\nimport PageLayout from '../../components/UI/PageLayout/PageLayout'\nimport ListPageSkeleton from '../../components/UI/SkeletonLoaders/ListPageSkeleton'\nimport { withRouter } from \"react-router\";\nimport { connect } from 'react-redux';\nimport * as actionCreators from '../../store/actions/index'\n\nclass RepoList extends React.Component {\n\n  state = {\n    userrepositories: [],\n    links:{},\n    pageNumber: 0,\n    loading: true,\n    hasMoreRepo: false,\n    error: null\n  }\n\n  fetchRepositories = () => {\n    axios.defaults.headers.common['Authorization'] = `JWT ${localStorage.getItem('token')}`;\n    axios.get('/userrepositories/' + this.state.pageNumber)\n      .then(response => {\n        if(response) {\n\n          this.setState(state => ({\n            userrepositories: state.userrepositories.concat(response.data.data),\n            links: response.data.links,\n            loading: false,\n            hasMoreRepo: response.data.links.next ? true : false,\n            pageNumber: response.data.links.next ? response.data.links.next : -1\n          }))\n        }\n\n      })\n      .catch(error => {\n        this.setState({\n          error: error,\n          loading: false\n        })\n      })\n  }\n\n  componentDidMount() {\n    this.fetchRepositories()\n  }\n\n  render() {\n    return (\n      <InfiniteScroll\n          dataLength={this.state.userrepositories.length}\n          next={this.fetchRepositories}\n          hasMore={this.state.hasMoreRepo}\n          loader={<PageLayout><ListPageSkeleton /></PageLayout>}\n      >\n      {this.state.userrepositories.map(repo => <MediaCard key={repo.id} onClick={() => this.props.setRepoData(repo)} link={'/tutorials/create/'+repo.name} search={\"?branch_name=\"+repo.default_branch} title={repo.name} />)}\n      </InfiniteScroll>\n    )\n  }\n}\n\nconst matchDispatchToProps = dispatch => {\n  return {\n    setRepoData: data => dispatch(actionCreators.setRepoData(data))\n  }\n}\n\nexport default withErrorHandler(withRouter(connect(null, matchDispatchToProps)(RepoList)), axios, \"list\")\n"],"sourceRoot":""}