{"version":3,"sources":["containers/RepoList/RepoList.js"],"names":["RepoList","state","userrepositories","links","pageNumber","loading","hasMoreRepo","error","fetchRepositories","axios","defaults","headers","common","concat","localStorage","getItem","get","_this","then","response","setState","data","next","catch","this","_this2","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_infinite_scroll_component__WEBPACK_IMPORTED_MODULE_9___default","dataLength","length","hasMore","loader","_components_UI_PageLayout_PageLayout__WEBPACK_IMPORTED_MODULE_10__","_components_UI_SkeletonLoaders_ListPageSkeleton__WEBPACK_IMPORTED_MODULE_11__","map","repo","content","style","paddingLeft","description","stargazers_count","_material_ui_core_Chip__WEBPACK_IMPORTED_MODULE_16__","marginRight","size","avatar","_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_17__","react_icons_go__WEBPACK_IMPORTED_MODULE_15__","label","forks_count","_components_UI_MediaCard_MediaCard__WEBPACK_IMPORTED_MODULE_8__","key","id","onClick","props","setRepoData","link","name","search","default_branch","title","React","Component","withErrorHandler","withRouter","connect","dispatch","actionCreators"],"mappings":"6QAkBMA,6MAEJC,MAAQ,CACNC,iBAAkB,GAClBC,MAAM,GACNC,WAAY,EACZC,SAAS,EACTC,aAAa,EACbC,MAAO,QAGTC,kBAAoB,WAClBC,IAAMC,SAASC,QAAQC,OAAvB,qBAAAC,OAAwDC,aAAaC,QAAQ,UAC7EN,IAAMO,IAAI,qBAAuBC,EAAKhB,MAAMG,YACzCc,KAAK,SAAAC,GACDA,GAEDF,EAAKG,SAAS,SAAAnB,GAAK,MAAK,CACtBC,iBAAkBD,EAAMC,iBAAiBW,OAAOM,EAASE,KAAKA,MAC9DlB,MAAOgB,EAASE,KAAKlB,MACrBE,SAAS,EACTC,cAAaa,EAASE,KAAKlB,MAAMmB,KACjClB,WAAYe,EAASE,KAAKlB,MAAMmB,KAAOH,EAASE,KAAKlB,MAAMmB,MAAQ,OAKxEC,MAAM,SAAAhB,GACLU,EAAKG,SAAS,CACZb,MAAOA,EACPF,SAAS,0FAMfmB,KAAKhB,qDAGE,IAAAiB,EAAAD,KACP,OACEE,EAAAC,EAAAC,cAACC,EAAAF,EAAD,CACIG,WAAYN,KAAKvB,MAAMC,iBAAiB6B,OACxCT,KAAME,KAAKhB,kBACXwB,QAASR,KAAKvB,MAAMK,YACpB2B,OAAQP,EAAAC,EAAAC,cAACM,EAAA,EAAD,KAAYR,EAAAC,EAAAC,cAACO,EAAA,EAAD,QAEvBX,KAAKvB,MAAMC,iBAAiBkC,IAAI,SAAAC,GAC/B,IAAMC,EACJZ,EAAAC,EAAAC,cAAA,OAAKW,MAAO,CAACC,YAAa,SAC1Bd,EAAAC,EAAAC,cAAA,SAAIS,EAAKI,aACRJ,EAAKK,iBACJhB,EAAAC,EAAAC,cAACe,EAAA,EAAD,CACAJ,MAAO,CAACK,YAAa,QACrBC,KAAK,QACLC,OACEpB,EAAAC,EAAAC,cAACmB,EAAA,EAAD,KACErB,EAAAC,EAAAC,cAACoB,EAAA,EAAD,OAGJC,MAAOZ,EAAKK,iBAAmB,EAAIL,EAAKK,iBAAmB,SAAWL,EAAKK,iBAAmB,UAG9F,KACDL,EAAKa,YACJxB,EAAAC,EAAAC,cAACe,EAAA,EAAD,CACAE,KAAK,QACLC,OACEpB,EAAAC,EAAAC,cAACmB,EAAA,EAAD,KACErB,EAAAC,EAAAC,cAACoB,EAAA,EAAD,OAGJC,MAAOZ,EAAKa,YAAc,EAAIb,EAAKa,YAAc,SAAWb,EAAKa,YAAc,UAE7E,MAIN,OACExB,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACAC,IAAKf,EAAKgB,GACVC,QAAS,kBAAM7B,EAAK8B,MAAMC,YAAYnB,IACtCoB,KAAM,WAAWpB,EAAKqB,KACtBC,OAAQ,gBAAgBtB,EAAKuB,eAC7BC,MAAOxB,EAAKqB,KACZpB,QAASA,cArFIwB,IAAMC,WAsGdC,sBAAiBC,YAAWC,YAAQ,KANtB,SAAAC,GAC3B,MAAO,CACLX,YAAa,SAAAnC,GAAI,OAAI8C,EAASC,IAA2B/C,OAIlB6C,CAAoClE,IAAYS,IAAO","file":"static/js/16.fa9881a8.chunk.js","sourcesContent":["import React from 'react'\nimport axios from '../../lovecodeaxios'\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler'\nimport MediaCard from '../../components/UI/MediaCard/MediaCard'\nimport InfiniteScroll from \"react-infinite-scroll-component\"\nimport PageLayout from '../../components/UI/PageLayout/PageLayout'\nimport ListPageSkeleton from '../../components/UI/SkeletonLoaders/ListPageSkeleton'\nimport { withRouter } from \"react-router\";\nimport { connect } from 'react-redux';\nimport * as actionCreators from '../../store/actions/index'\nimport { GoRepoForked } from \"react-icons/go\";\nimport { GoStar } from \"react-icons/go\";\nimport Chip from '@material-ui/core/Chip';\nimport Avatar from '@material-ui/core/Avatar';\n\n\n\n\nclass RepoList extends React.Component {\n\n  state = {\n    userrepositories: [],\n    links:{},\n    pageNumber: 0,\n    loading: true,\n    hasMoreRepo: false,\n    error: null\n  }\n\n  fetchRepositories = () => {\n    axios.defaults.headers.common['Authorization'] = `JWT ${localStorage.getItem('token')}`;\n    axios.get('/userrepositories/' + this.state.pageNumber)\n      .then(response => {\n        if(response) {\n\n          this.setState(state => ({\n            userrepositories: state.userrepositories.concat(response.data.data),\n            links: response.data.links,\n            loading: false,\n            hasMoreRepo: response.data.links.next ? true : false,\n            pageNumber: response.data.links.next ? response.data.links.next : -1\n          }))\n        }\n\n      })\n      .catch(error => {\n        this.setState({\n          error: error,\n          loading: false\n        })\n      })\n  }\n\n  componentDidMount() {\n    this.fetchRepositories()\n  }\n\n  render() {\n    return (\n      <InfiniteScroll\n          dataLength={this.state.userrepositories.length}\n          next={this.fetchRepositories}\n          hasMore={this.state.hasMoreRepo}\n          loader={<PageLayout><ListPageSkeleton /></PageLayout>}\n      >\n      {this.state.userrepositories.map(repo => {\n        const content = (\n          <div style={{paddingLeft: '13px'}}>\n          <p>{repo.description}</p>\n          {repo.stargazers_count ?\n            <Chip\n            style={{marginRight: '10px'}}\n            size=\"small\"\n            avatar={\n              <Avatar>\n                <GoStar />\n              </Avatar>\n            }\n            label={repo.stargazers_count > 1 ? repo.stargazers_count + \" stars\" : repo.stargazers_count + \" star\"}\n            />\n\n          : null}\n          {repo.forks_count ?\n            <Chip\n            size=\"small\"\n            avatar={\n              <Avatar>\n                <GoRepoForked />\n              </Avatar>\n            }\n            label={repo.forks_count > 1 ? repo.forks_count + \" forks\" : repo.forks_count + \" fork\"}\n            />\n            : null}\n          </div>\n\n        )\n        return (\n          <MediaCard\n          key={repo.id}\n          onClick={() => this.props.setRepoData(repo)}\n          link={'/create/'+repo.name}\n          search={\"?branch_name=\"+repo.default_branch}\n          title={repo.name}\n          content={content}\n          />\n        )\n      }\n\n    )}\n      </InfiniteScroll>\n    )\n  }\n}\n\nconst matchDispatchToProps = dispatch => {\n  return {\n    setRepoData: data => dispatch(actionCreators.setRepoData(data))\n  }\n}\n\nexport default withErrorHandler(withRouter(connect(null, matchDispatchToProps)(RepoList)), axios, \"circular\")\n"],"sourceRoot":""}