(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{988:function(t,e,a){"use strict";a.r(e);var r=a(40),n=a(41),i=a(43),o=a(42),l=a(44),s=a(1),c=a.n(s),u=a(80),m=a(89),p=a(6),h=a(995),d=a(31),g=a(622),f=a(63),b=a(0),v=a(148),y=a(146),E=a(155),w=a(74),N=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(t=Object(o.a)(e)).call.apply(t,[this].concat(l)))).state={title:"",error:null,emptyError:!1,tutorials:null},a.titleUpdate=function(t){a.setState({title:t.target.value})},a.getBranchName=function(t){var e=new URLSearchParams(t.location.search),a=!0,r=!1,n=void 0;try{for(var i,o=e.entries()[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var l=i.value;if("branch_name"===l[0])return l[1]}}catch(s){r=!0,n=s}finally{try{a||null==o.return||o.return()}finally{if(r)throw n}}return null},a.createTutorial=function(){if(a.setState(function(t,e){return{loading:""!==t.title,emptyError:""===t.title}}),""!==a.state.title){var t=Object(v.a)("csrftoken"),e=a.props.match.params.repoName,r=a.getBranchName(a.props),n={title:a.state.title,branch_name:r,repo_name:e,repo_data:a.props.repoData};u.a.defaults.headers.common["X-CSRFToken"]=t,u.a.post("/tutorials/create_or_get",n).then(function(t){var n=t.data;n.created&&(a.setState({loading:!1}),a.props.history.push("/tutorials/create/"+e+"/"+n.tutorial_data.id+"/"+n.tutorial_data.slug+"/"+r))}).catch(function(t){console.log(t),a.setState({error:t})})}},a}return Object(l.a)(e,t),Object(n.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.repoName,a=this.getBranchName(this.props);u.a.get("/tutorials/?repo_name="+e+"&branch_name="+a+"&repo_create=true").then(function(e){t.setState({tutorials:e.data})}).catch(function(e){console.log(e),t.setState({error:e,loading:!1})})}},{key:"render",value:function(){var t=this.props.classes,e=this.props.match.params.repoName,a=this.getBranchName(this.props),r=this.state.tutorials?this.state.tutorials.results.map(function(t,r){return c.a.createElement(y.a,{key:t.id,link:"/tutorials/create/"+e+"/"+t.id+"/"+t.slug+"/"+a,content:c.a.createElement(E.a,{user:t.user}),title:t.title})}):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t.container},c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,{error:this.state.emptyError,id:"outlined-name",label:"Title of your story",value:this.state.title,onChange:this.titleUpdate,className:t.textField,margin:"normal",variant:"outlined"}),c.a.createElement(g.a,{variant:"extended",onClick:this.createTutorial,disabled:this.state.loading,size:"medium",color:"primary","aria-label":"Add",className:t.margin},c.a.createElement(b.b.Provider,{value:{size:"2em"}},c.a.createElement(f.a,{className:t.extendedIcon})),"Create your Story")),r?c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{className:t.margin},"Tutorials with this branch and repo"),r):null))}}]),e}(c.a.Component);e.default=Object(m.a)(Object(p.a)(function(t){return{textField:{width:"95%",margin:t.spacing.unit},repoField:{minWidth:120,margin:t.spacing.unit},container:{position:"absolute",top:"90px",width:"95%"},margin:{margin:t.spacing.unit,textTransform:"none"},extendedIcon:{marginRight:t.spacing.unit}}})(Object(d.f)(Object(w.b)(function(t){return{repoData:t.rdReducer.repoData}},null)(N))),u.a,"circular")}}]);
//# sourceMappingURL=14.9e0ae8b4.chunk.js.map