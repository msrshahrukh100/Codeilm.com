(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{339:function(e,t,a){"use strict";var r=a(21),n=a(22),i=a(24),o=a(23),s=a(25),l=a(0),c=a.n(l),u=a(5),p=a(208),m=a(904),h=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(s)))).userClicked=function(e){e.stopPropagation(),window.location="/u/".concat(a.props.user.id,"/").concat(a.props.user.username)},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.user?c.a.createElement("p",null,c.a.createElement("span",{className:e.name},this.props.user.full_name),c.a.createElement("br",null),c.a.createElement("span",{className:e.intro},this.props.user.intro)):null;return this.props.user?c.a.createElement(m.a,{avatar:c.a.createElement(p.a,{className:e.avatar,alt:this.props.user.full_name,src:this.props.user.user_profile_pic}),label:t,onClick:this.userClicked,className:e.chip}):null}}]),t}(c.a.Component);t.a=Object(u.a)(function(e){return{chip:{marginLeft:e.spacing(2),marginTop:e.spacing(2),backgroundColor:"white","&:hover":{background:"white"},"&:focus":{background:"white"}},avatar:{marginRight:e.spacing(1),width:50,height:50},name:{fontSize:15},intro:{fontSize:13,color:"grey"}}})(h)},989:function(e,t,a){"use strict";a.r(t);var r=a(21),n=a(22),i=a(24),o=a(23),s=a(25),l=a(0),c=a.n(l),u=a(88),p=a(137),m=a(5),h=a(996),d=a(34),g=a(925),f=a(201),b=a(287),v=a(90),y=a(66),E=a(339),N=a(26),w=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).getBranchName=function(e){var t=new URLSearchParams(e.location.search),a=!0,r=!1,n=void 0;try{for(var i,o=t.entries()[Symbol.iterator]();!(a=(i=o.next()).done);a=!0){var s=i.value;if("branch_name"===s[0])return s[1]}}catch(l){r=!0,n=l}finally{try{a||null==o.return||o.return()}finally{if(r)throw n}}return null},a.titleUpdate=function(e){a.setState({title:e.target.value,emptyError:""===e.target.value,error:null})},a.createTutorial=function(){if(a.setState(function(e,t){return{loading:""!==e.title,emptyError:""===e.title,error:""===e.title?"Title can't be blank":null}}),""!==a.state.title){var e=Object(v.a)("csrftoken"),t=a.props.match.params.repoName,r=a.getBranchName(a.props),n={title:a.state.title,branch_name:r,repo_name:t,repo_data:a.props.repoData};u.a.defaults.headers.common["X-CSRFToken"]=e,u.a.post("/tutorials/create_or_get",n).then(function(e){var n=e.data;n.created?(a.setState({loading:!1}),n.tutorial_data.repository_name?a.props.history.push("/create/"+t+"/"+n.tutorial_data.id+"/"+n.tutorial_data.slug+"/"+r):a.props.history.push("/create/new/"+n.tutorial_data.id+"/"+n.tutorial_data.slug)):a.setState({loading:!1,emptyError:!0,error:"A story with this name already exists"})}).catch(function(e){console.log(e),a.setState({error:e})})}};var n=e.match.params.repoName,s=a.getBranchName(e);return a.state={title:"",error:null,emptyError:!1,tutorials:null,repoName:n,branchName:s},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.repoName&&this.state.branchName&&u.a.get("/tutorials/?repo_name="+this.state.repoName+"&branch_name="+this.state.branchName+"&repo_create=true").then(function(t){e.setState({tutorials:t.data})}).catch(function(t){console.log(t),e.setState({error:t,loading:!1})})}},{key:"render",value:function(){var e=this.props.classes,t=this.props.match.params.repoName,a=this.getBranchName(this.props),r=this.state.tutorials?this.state.tutorials.results.map(function(e,r){return c.a.createElement(y.a,{key:e.id,link:"/create/"+t+"/"+e.id+"/"+e.slug+"/"+a,content:c.a.createElement(E.a,{user:e.user}),title:e.title})}):null;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:e.container},c.a.createElement(c.a.Fragment,null,c.a.createElement(h.a,{error:this.state.emptyError,id:"outlined-name",label:"Title of your story",value:this.state.title,onChange:this.titleUpdate,className:e.textField,margin:"normal",variant:"outlined"}),c.a.createElement("p",{style:{color:"red",paddingLeft:"10px"}},this.state.error),c.a.createElement(g.a,{variant:"extended",onClick:this.createTutorial,disabled:this.state.loading,size:"medium",color:"primary","aria-label":"Add",className:e.margin},c.a.createElement(b.b.Provider,{value:{size:"2em"}},c.a.createElement(f.a,{className:e.extendedIcon})),"Create your Story")),r&&r.length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{className:e.margin},"Stories with this branch and repo"),r):null))}}]),t}(c.a.Component);t.default=Object(p.a)(Object(m.a)(function(e){return{textField:{width:"95%",margin:e.spacing()},repoField:{minWidth:120,margin:e.spacing()},container:{position:"absolute",top:"90px",width:"95%"},margin:{margin:e.spacing(),textTransform:"none"},extendedIcon:{marginRight:e.spacing()}}})(Object(d.f)(Object(N.b)(function(e){return{repoData:e.rdReducer.repoData}},null)(w))),u.a,"circular")}}]);
//# sourceMappingURL=17.475575cb.chunk.js.map